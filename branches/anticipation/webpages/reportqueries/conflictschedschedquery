TITLE='Conflict Report - Schedule but not'
DESCRIPTION='These are sessions that are either in the grid and not set as scheduled or they are set as scheduled and not in the grid.'
CONFLICTWANTS=1
QUERY="
SELECT
        if (SCH.roomid is null,
            S.sessionid,
            concat('<a href=MaintainRoomSched.php?selroom=',SCH.roomid,'>', S.sessionid,'</a>')) as Sessionid,
        concat('<a href=EditSession.php?id=',S.sessionid,'>',S.title,'</a>') Title,
        if ((SCH.sessionid is NULL),'no','yes') in_grid,
        SS.statusname
    FROM
        Sessions S join
        SessionStatuses SS using (statusid) left join
        Schedule SCH using(sessionid)
    HAVING
        (in_grid='no' and SS.statusname='Scheduled') or
        (in_grid='yes' and SS.statusname!='Scheduled');"

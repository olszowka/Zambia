-- MySQL dump 10.13  Distrib 5.1.41, for debian-linux-gnu (i486)
--
-- Host: nelaonline.org    Database: nelaonli_FFF36Z
-- ------------------------------------------------------
-- Server version	5.0.92-community-log

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Not dumping tablespaces as no INFORMATION_SCHEMA.FILES table on this server
--

--
-- Table structure for table `Reports`
--

DROP TABLE IF EXISTS `Reports`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `Reports` (
  `reportid` int(11) NOT NULL auto_increment,
  `reportname` varchar(30) NOT NULL default '',
  `reporttitle` text,
  `reportdescription` text,
  `reportadditionalinfo` text,
  `reportquery` text,
  PRIMARY KEY  (`reportid`),
  KEY `reportname` (`reportname`)
) ENGINE=InnoDB AUTO_INCREMENT=115 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `Reports`
--

LOCK TABLES `Reports` WRITE;
/*!40000 ALTER TABLE `Reports` DISABLE KEYS */;
INSERT INTO `Reports` VALUES (1,'finalschedbreif','Schedule','<P>Below is the Panel, Events, Film, Anime, Video and Arisia TV schedule.</P>\r\n','','SELECT\r\n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',starttime),\'%a %l:%i %p\') as \'Start Time\',\r\n    CASE\r\n      WHEN HOUR(duration) < 1 THEN\r\n        concat(date_format(duration,\'%i\'),\'min\')\r\n      WHEN MINUTE(duration)=0 THEN\r\n        concat(date_format(duration,\'%k\'),\'hr\')\r\n      ELSE\r\n        concat(date_format(duration,\'%k\'),\'hr \',date_format(duration,\'%i\'),\'min\')\r\n      END AS Duration,\r\n   concat(\'<A HREF=\"MaintainRoomSched.php?selroom=\',R.roomid,\'\">\',R.roomname,\'</A>\') AS Room, \r\n    Trackname, \r\n    concat(\'<a href=StaffAssignParticipants.php?selsess=\',S.sessionid,\'>\', S.sessionid,\'</a>\') as Sessionid,\r\n    concat(\'<a href=EditSession.php?id=\',S.sessionid,\'>\',S.title,\'</a>\') Title\r\n  FROM\r\n      Sessions S, \r\n      Schedule SCH, \r\n      Tracks T, \r\n      Rooms R \r\n  WHERE\r\n    R.roomid=SCH.roomid and\r\n    T.trackid=S.trackid and\r\n    SCH.sessionid = S.sessionid and\r\n    S.pubstatusid = 2\r\n  ORDER BY\r\n    SCH.starttime,\r\n    T.trackname'),(2,'conflictpartintnotcomp','Conflict Report - Interested Participants that wont comp','<P>Comps are limited to participants on 3 or more panels.  These folks are on less than 3 scheduled panels.</P>\r\n','','SELECT\r\n    P.badgeid, \r\n    P.pubsname, \r\n    if (X.Schd is NULL, 0, X.Schd) Schd, \r\n    if (Y.Intr is NULL, 0, Y.Intr) Intr\r\n  FROM\r\n      CongoDump C, \r\n      Participants P \r\n    LEFT JOIN (SELECT\r\n                   POS.badgeid, \r\n                   count(POS.sessionid) Schd\r\n                 FROM\r\n                     ParticipantOnSession POS,\r\n                     Schedule S\r\n                 WHERE\r\n                   S.sessionid=POS.sessionid\r\n                 GROUP BY\r\n                   POS.badgeid) X on P.badgeid=X.badgeid \r\n    LEFT JOIN (SELECT\r\n                   PSI.badgeid, \r\n                   count(PSI.sessionid) as Intr\r\n                 FROM\r\n                     ParticipantSessionInterest PSI\r\n                 GROUP BY\r\n                     PSI.badgeid) Y on Y.badgeid=P.badgeid\r\n  WHERE\r\n    C.badgeid=P.badgeid and\r\n    interested=1 and\r\n    C.regtype is NULL \r\n  HAVING\r\n    Schd < 3\r\n  ORDER BY\r\n    Intr DESC,\r\n    cast(C.badgeid as unsigned)'),(3,'assignedsession','Assigned Session by Session','<P>Shows who has been assigned to each session. (Sorted by track and then sessionid.)</P>\r\n','','SELECT \r\n    Trackname, \r\n    concat(\'<A HREF=StaffAssignParticipants.php?selsess=\',S.sessionid,\'>\', S.sessionid,\'</A>\') as Sessionid,\r\n    concat(\'<A HREF=EditSession.php?id=\',S.sessionid,\'>\',S.title,\'</A>\')  AS Title,\r\n    concat(\'<A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',P.badgeid,\'>\',P.pubsname,\'</A>\') AS Pubsname,\r\n    if ((moderator=1), \'Yes\', \' \') AS Moderator,\r\n    Statusname \r\n  FROM\r\n      ParticipantOnSession POS,\r\n      Sessions S,\r\n      Participants P,\r\n      Tracks T,\r\n      SessionStatuses SS\r\n  WHERE\r\n    POS.badgeid=P.badgeid and\r\n    POS.sessionid=S.sessionid and\r\n    T.trackid=S.trackid and\r\n    S.statusid=SS.statusid \r\n  ORDER BY\r\n    trackname, \r\n    S.sessionid'),(4,'participantinterestedcount','Participant Interested Count','<P>Show the number of people that are interested in attending.</P>\r\n','<P>Interested, 1=yes, 2=no, 3=Invited, 4=Suggested, 0=did not pick, NULL=did not hit save.</P>','SELECT\r\n    P.Interested as \"Interest Flag\",\r\n    count(P.badgeid) as Count\r\n  FROM\r\n      Participants P \r\n  GROUP BY\r\n    P.interested'),(5,'schedpartavail','Participant availablity','<P>When they said they were available.</P>\r\n','','SELECT\r\n        P.badgeid, \r\n        concat(\'<A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',P.badgeid,\'>\',P.pubsname,\'</A>\') AS Pubsname, \r\n        DATE_FORMAT(ADDTIME(\'$ConStartDatim\',starttime),\'%a %l:%i %p\') AS \'Start Time\', \r\n        DATE_FORMAT(ADDTIME(\'$ConStartDatim\',endtime),\'%a %l:%i %p\') AS \'End Time\',\r\n        PA.otherconstraints,\r\n        PA.preventconflict\r\n    FROM\r\n        Participants AS P LEFT JOIN\r\n        ParticipantAvailabilityTimes AS PAT USING (badgeid)\r\n        JOIN ParticipantAvailability PA USING (badgeid)\r\n    WHERE\r\n        P.interested=1\r\n    ORDER BY\r\n        CAST(P.badgeid AS UNSIGNED),starttime'),(6,'panelmerge','CSV -- Report for Program Panel Merge','<P>sessionid,room,start time,duration,track,title,participants</P>\r\n','','SELECT\r\n    S.Sessionid,\r\n    R.roomname AS Room,\r\n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',SCH.starttime),\'%a %l:%i %p\') AS \'Start Time\', \r\n    CASE\r\n      WHEN HOUR(S.duration) < 1 THEN\r\n        concat(date_format(S.duration,\'%i\'),\'min\')\r\n      WHEN MINUTE(S.duration)=0 THEN\r\n        concat(date_format(S.duration,\'%k\'),\'hr\')\r\n      ELSE\r\n        concat(date_format(S.duration,\'%k\'),\'hr \',date_format(S.duration,\'%i\'),\'min\')\r\n      END AS Duration,\r\n    T.trackname AS Track, \r\n    S.Title, \r\n    group_concat(P.pubsname,if(POS.moderator=1,\'(m)\',\'\') ORDER BY POS.moderator DESC SEPARATOR \', \') AS participants,\r\n    PUB.pubstatusname AS status\r\n  FROM\r\n      Sessions S\r\n    JOIN Schedule SCH USING(sessionid)\r\n    JOIN Rooms R USING(roomid)\r\n    JOIN Tracks T USING(trackid)\r\n    JOIN PubStatuses PUB USING(pubstatusid)\r\n    LEFT JOIN ParticipantOnSession POS USING(sessionid)\r\n    LEFT JOIN Participants P USING(badgeid)\r\n  GROUP BY\r\n    S.sessionid\r\n  ORDER BY\r\n    SCH.starttime'),(7,'sessionedithistoryall','Session Edit History Report - All','<P>For each session, show the entire edit history.</P>\n','','SELECT\n    concat(\'<a href=StaffAssignParticipants.php?selsess=\',S.sessionid,\'>\', S.sessionid,\'</a>\') as Sessionid,\n    T.trackname as \'Track\', \n    concat(\'<a href=EditSession.php?id=\',S.sessionid,\'>\',S.title,\'</a>\') Title,\n    SS.statusname as \'Current<BR>Status\',\n    timestamp as \'When\', \n    concat(name,\' (\', email_address,\') \') as \'Who\', \n    concat(SEC.description, \' \',SS2.statusname) as \'What\' \n  FROM\n      Sessions S, \n      Tracks T, \n      SessionStatuses SS, \n      SessionEditHistory SEH, \n      SessionEditCodes SEC, \n      SessionStatuses SS2 \n  WHERE\n    S.trackid=T.trackid and\n    S.statusid = SS.statusid and\n    S.sessionid = SEH.sessionid and\n    SEH.sessioneditcode=SEC.sessioneditcode and\n    SS2.statusid=SEH.statusid and\n    S.statusid >= 1 and\n    S.statusid <= 7\n  ORDER BY\n    S.sessionid, \n    SEH.timestamp'),(8,'partbio','Conflict Report - All Interested Participant Web/Book Bios','<P>Show the badgeid, pubsname, edited web bio, and edited program book bio for each participant who indicated he is attending.</P>\r\n','','SELECT\r\n    P.badgeid, \r\n    concat(\'<A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',P.badgeid,\'>\',P.pubsname,\'</A>\') AS Pubsname, \r\n    concat(\'<A HREF=StaffEditBios.php?badgeid=\',P.badgeid,\'>\',P.editedbio,\'</A>\') AS \'Web Bio\',\r\n    concat(\'<A HREF=StaffEditBios.php?badgeid=\',P.badgeid,\'>\',P.progeditedbio,\'</A>\') AS \'Program Book Bio\'\r\n  FROM\r\n      Participants P\r\n  WHERE\r\n    P.interested=1\r\n  ORDER BY\r\n    substring_index(pubsname,\" \",-1)'),(9,'progpacketmerge','Full Participant Schedule for the Program Packet Merge','<P>pubsname, (day, time, duration, room, mod)</P>\r\n','','SELECT\r\n    POS.badgeid,\r\n    P.pubsname,\r\n    group_concat(roomname,\';\',\r\n		 DATE_FORMAT(ADDTIME(\'$ConStartDatim\',starttime),\'%a %l:%i %p\'),\';(\',\r\n		 CASE \r\n                      WHEN HOUR(duration) < 1 THEN \r\n                        concat(date_format(duration,\'%i\'),\'min\') \r\n                      WHEN MINUTE(duration)=0 THEN \r\n                        concat(date_format(duration,\'%k\'),\'hr\') \r\n                      ELSE\r\n                        concat(date_format(duration,\'%k\'),\'hr \',date_format(duration,\'%i\'),\'min\')\r\n                    END\r\n                 ,\');\',\r\n		 trackname,\';\',\r\n		 title,\';\',\r\n		 if(moderator=1,\'(m);\',\';\')\r\n		 ORDER BY starttime) AS panelinfo \r\n  FROM\r\n      Participants P,\r\n      Rooms R,\r\n      Sessions S,\r\n      Schedule SCH,\r\n      ParticipantOnSession POS,\r\n      CongoDump C,\r\n      Tracks T\r\n  WHERE\r\n    P.badgeid=C.badgeid and\r\n    S.sessionid=SCH.sessionid and\r\n    POS.sessionid=S.sessionid and\r\n    POS.badgeid=C.badgeid and\r\n    T.trackid=S.trackid and\r\n    SCH.roomid = R.roomid and\r\n    SCH.sessionid = S.sessionid\r\n  GROUP BY\r\n    badgeid\r\n  ORDER BY\r\n    pubsname'),(10,'sessioninterestpart','Session Interest by participant (all info)','<P>Shows who has expressed interest in each session, how they ranked it, what they said, if they will moderate... Large Report.  (All data included including for invited sessions.) order by participant.</P>\r\n','','SELECT \r\n    P.badgeid BadgeID, \r\n    concat(\'<A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',P.badgeid,\'>\',P.pubsname,\'</A>\') AS Pubsname, \r\n    T.trackname Track, \r\n    concat(\'<a href=StaffAssignParticipants.php?selsess=\',S.sessionid,\'>\', S.sessionid,\'</a>\') Sessionid,\r\n    concat(\'<a href=EditSession.php?id=\',S.sessionid,\'>\',S.title,\'</a>\') Title,\r\n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',SCH.starttime),\'%a %l:%i %p\') as \'Start Time\',\r\n    CASE\r\n      WHEN HOUR(duration) < 1 THEN\r\n        concat(date_format(duration,\'%i\'),\'min\')\r\n      WHEN MINUTE(duration)=0 THEN\r\n        concat(date_format(duration,\'%k\'),\'hr\')\r\n      ELSE\r\n        concat(date_format(duration,\'%k\'),\'hr \',date_format(duration,\'%i\'),\'min\')\r\n      END AS Duration,\r\n    I.rank Rank, \r\n    I.comments Comments \r\n  FROM\r\n      Participants as P, \r\n      ParticipantSessionInterest as I, \r\n      Tracks as T,\r\n      Sessions as S\r\n      left join Schedule SCH \r\n      on S.sessionid=SCH.sessionid \r\n  WHERE\r\n    P.badgeid=I.badgeid and\r\n    S.sessionid=I.sessionid and \r\n    T.trackid=S.trackid \r\n  ORDER BY\r\n    cast(P.badgeid as unsigned) '),(11,'conflictpartbio','Conflict Report - Participant Web Bio Different From Edited Version','<P>Show the badgeid, pubsname and both bio entries for each participant who indicated he is attending.</P>\r\n','<P>Click on the Pubsname to take you to their entry, and click on either of the bio verbiage to edit the bios.</P>','SELECT\r\n    P.badgeid, \r\n    concat(\'<A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',P.badgeid,\'>\',P.pubsname,\'</A>\') AS Pubsname, \r\n    concat(\'<A HREF=StaffEditBios.php?badgeid=\',P.badgeid,\'>\',P.bio,\'</A>\') AS \'Original Bio\',\r\n    concat(\'<A HREF=StaffEditBios.php?badgeid=\',P.badgeid,\'>\',P.editedbio,\'</A>\') AS \'Web Bio\'\r\n  FROM\r\n      Participants P\r\n  WHERE\r\n    P.interested=1 and\r\n    editedbio IS NULL OR\r\n    editedbio=\'\' OR\r\n    editedbio!=bio OR\r\n    (bio IS NULL AND\r\n       editedbio IS NOT NULL)\r\n  ORDER BY\r\n    substring_index(pubsname,\" \",-1)'),(12,'intvschedpanel','Interest v Schedule - sorted by track, then title','<P>Show who is interested in each panel and if they are assigned to it.  Also show the scheduling information.</P>\r\n','','SELECT\r\n    X.trackname, \r\n    concat(\'<A HREF=StaffAssignParticipants.php?selsess=\',X.sessionid,\'>\', X.sessionid,\'</A>\') AS Sessionid,\r\n    concat(\'<A HREF=EditSession.php?id=\',X.sessionid,\'>\',X.title,\'</A>\') AS Title, \r\n    X.badgeid,\r\n    concat(\'<A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',X.badgeid,\'>\',X.pubsname,\'</A>\') AS pubsname,\r\n    (if (X.assigned is NULL,\'no\',\'yes\')) as \'Assigned?\', \r\n    concat(\'<A HREF=MaintainRoomSched.php?selroom=\',Y.roomid,\'>\', Y.roomname,\'</A>\') AS Roomname,\r\n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',Y.starttime),\'%a %l:%i %p\') as \'Start Time\' \r\n  FROM\r\n      (SELECT\r\n           PI.badgeid,\r\n           PI.pubsname,\r\n           PI.sessionid,\r\n           POS.sessionid as assigned,\r\n           title,\r\n           trackname \r\n         FROM\r\n             (SELECT\r\n                  T.trackname,\r\n                  S.title,\r\n                  S.sessionid,\r\n                  P.badgeid,\r\n                  P.pubsname \r\n               FROM\r\n                   Tracks T,\r\n                   ParticipantSessionInterest PSI, \r\n                   Participants P,\r\n                   Sessions S\r\n               WHERE\r\n                 S.trackid=T.trackid and\r\n                 P.interested=1 and\r\n                 S.statusid!=4 and\r\n                 P.badgeid=PSI.badgeid and\r\n                 S.sessionid=PSI.sessionid ) PI \r\n                   left join ParticipantOnSession POS \r\n                          on POS.badgeid=PI.badgeid and POS.sessionid=PI.sessionid) X \r\n           LEFT JOIN (SELECT\r\n                          SCH.starttime,\r\n                          R.roomname,\r\n                          R.roomid,\r\n                          SCH.sessionid \r\n                       FROM \r\n                           Schedule SCH,\r\n                           Rooms R \r\n                       WHERE\r\n                           R.roomid=SCH.roomid) as Y on X.sessionid=Y.sessionid \r\n  ORDER BY\r\n    X.trackname,\r\n    X.title'),(13,'sessioncomment','Session Commentary','<P>Comments recorded for Sessions.  <A HREF=\"CommentOnSessions.php\">(Add a comment)</A></P>\r\n','','SELECT\r\n    title,\r\n    commenter,\r\n    comment\r\n  FROM\r\n      Sessions\r\n    JOIN CommentsOnSessions USING (sessionid)\r\n  ORDER BY\r\n    title'),(14,'conflictpickypeople','Conflict Report - Picky people','<P>Show who the picky people do not want to be on a panel with and who they are on panels with.</P>\n','','SELECT \n    X.b AS badgeid, \n    X.pn AS pubsname, \n    X.no AS nopeople, \n    X.tn AS track, \n    concat(\'<a href=StaffAssignParticipants.php?selsess=\',X.s,\'>\', X.s,\'</a>\') AS Sessionid, \n    X.sn AS sessionname, \n    group_concat(DISTINCT P2.pubsname,concat(\' (\',P2.badgeid,\')\') SEPARATOR \', \') AS \'others on this panel\' \n  FROM \n      (SELECT\n            PI.badgeid as b,\n            P.pubsname as pn,\n            S.sessionid as s,\n            nopeople as no,\n            title as sn,\n            trackname as tn \n          FROM\n              ParticipantInterests PI,\n              ParticipantOnSession PS, \n              Sessions S,\n              Participants P,\n              Tracks T \n          WHERE\n            T.trackid=S.trackid and\n            S.sessionid=PS.sessionid and\n            PS.badgeid=PI.badgeid and\n            P.badgeid=PI.badgeid and\n            (nopeople is not null and nopeople!=\'\')) X, \n      Participants P2,\n      ParticipantOnSession PSO \n  WHERE\n    X.s=PSO.sessionid and P2.badgeid=PSO.badgeid \n  GROUP BY\n    X.s \n  ORDER BY\n    cast(X.b as unsigned)'),(15,'publongdesc','CSV - Session Characteristics plus long description','<P>For Scheduled items ONLY. Show sessionid, track, type, divisionid, pubstatusid, pubno, pubchardest, kids, title, long description.</P>\r\n','','SELECT\r\n    S.sessionid,\r\n    T.trackname AS track,\r\n    TY.typename AS type,\r\n    DV.divisionname AS division,\r\n    PS.pubstatusname AS \'publication status\',\r\n    S.pubsno,\r\n    group_concat(PC.pubcharname SEPARATOR \' \') AS \'publication characteristics\',\r\n    K.kidscatname AS \'kids category\',\r\n    S.title,\r\n    S.secondtitle,\r\n    S.pocketprogtext AS description\r\n  FROM\r\n      Schedule SCH\r\n    JOIN Sessions S USING(sessionid)\r\n    JOIN Tracks T USING(trackid)\r\n    JOIN Types TY USING(typeid)\r\n    JOIN Divisions DV USING(divisionid)\r\n    JOIN PubStatuses PS USING(pubstatusid)\r\n    JOIN KidsCategories K USING(kidscatid)\r\n    LEFT JOIN SessionHasPubChar SHPC USING(sessionid)\r\n    LEFT JOIN PubCharacteristics PC USING(pubcharid)\r\n  WHERE \r\n    PS.pubstatusname = \'Public\'\r\n  GROUP BY\r\n    scheduleid'),(16,'sessioninterestpartcount','Session Interest Counts by Participant','<P>Just how many panels did each participant sign up for anyway?</P>\r\n','','SELECT\r\n    P.Badgeid, \r\n    concat(\'<A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',P.badgeid,\'>\',P.pubsname,\'</A>\') AS Pubsname, \r\n    count(sessionid) as Interested \r\n  FROM\r\n      Participants P \r\n    LEFT JOIN ParticipantSessionInterest PSI on P.badgeid=PSI.badgeid \r\n  WHERE\r\n    P.interested=1 \r\n  GROUP BY\r\n    cast(P.badgeid as unsigned)'),(17,'gameroomshedroom','Gaming Schedule','<P>All Gaming and Gaming Panels.  All these reports include both.</P>\n','','SELECT\n    roomname AS Room,\n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',starttime),\'%a %l:%i %p\') AS \'Start Time\',\n    CASE\n      WHEN HOUR(duration) < 1 THEN\n        concat(date_format(duration,\'%i\'),\'min\')\n      WHEN MINUTE(duration)=0 THEN\n        concat(date_format(duration,\'%k\'),\'hr\')\n      ELSE \n        concat(date_format(duration,\'%k\'),\'hr \',date_format(duration,\'%i\'),\'min\')\n      END AS Duration,\n    title AS Title,\n    pocketprogtext AS Description,\n    group_concat(\' \',pubsname,\' (\',P.badgeid,\')\') as \'Participants\'\n  FROM\n      Schedule SCH\n    JOIN Sessions S USING (sessionid)\n    JOIN Rooms R USING (roomid)\n    JOIN Tracks USING (trackid)\n    LEFT JOIN ParticipantOnSession POS ON SCH.sessionid=POS.sessionid\n    LEFT JOIN Participants P ON POS.badgeid=P.badgeid\n  WHERE \n    trackname in (\'Gaming\')\n  GROUP BY\n    SCH.scheduleid\n  ORDER BY\n    R.roomname,\n    SCH.starttime'),(18,'kidfasttracksched4con','FastTrack Schedule (for con)','<P>What is happening in FastTrack - The At-Con Version.</P>\n','','SELECT\n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',SCH.starttime),\'%a %l:%i %p\') as \'Start Time\',\n    R.roomname,\n    S.title,\n    group_concat(concat(P.pubsname,\' (\',P.badgeid,\')\') SEPARATOR \', \') as \'Participants\'\n  FROM\n      Schedule SCH\n    JOIN Rooms R USING(roomid)\n    JOIN Sessions S USING(sessionid)\n    JOIN Tracks TR USING(trackid)\n    LEFT JOIN ParticipantOnSession POS USING(sessionid)\n    LEFT JOIN Participants P USING(badgeid)\n  WHERE\n    TR.trackname=\'FAST TRACK\'\n  GROUP BY\n    SCH.scheduleid\n  ORDER BY\n    SCH.starttime'),(19,'allroomschedtime','Full Room Schedule by time then room','<P>Lists all Sessions Scheduled in all Rooms (includes \"Public\", \"Do Not Print\" and \"Staff Only\").</P>\r\n','','SELECT\r\n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',starttime),\'%a %l:%i %p\') as \'Start Time\',\r\n    concat(\'<a href=MaintainRoomSched.php?selroom=\',R.roomid,\'>\', R.roomname,\'</a>\') as Roomname,\r\n    CASE\r\n      WHEN HOUR(duration) < 1 THEN\r\n        concat(date_format(duration,\'%i\'),\'min\')\r\n      WHEN MINUTE(duration)=0 THEN\r\n        concat(date_format(duration,\'%k\'),\'hr\')\r\n      ELSE\r\n        concat(date_format(duration,\'%k\'),\'hr \',date_format(duration,\'%i\'),\'min\')\r\n      END AS Duration,\r\n    Function,\r\n    Trackname,\r\n    concat(\'<a href=StaffAssignParticipants.php?selsess=\',S.sessionid,\'>\', S.sessionid,\'</a>\') as Sessionid,\r\n    concat(\'<a href=EditSession.php?id=\',S.sessionid,\'>\',title,\'</a>\') as Title,\r\n    PS.pubstatusname as PubStatus,\r\n    group_concat(\' \',concat(\'<A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',P.badgeid,\'>\',P.pubsname,\'</A>\'),\' (\',P.badgeid,\')\') as \'Participants\'\r\n  FROM\r\n      Schedule SCH\r\n    JOIN Sessions S USING (sessionid)\r\n    JOIN Rooms R USING (roomid)\r\n    JOIN PubStatuses PS USING (pubstatusid)\r\n    LEFT JOIN ParticipantOnSession POS ON SCH.sessionid=POS.sessionid\r\n    LEFT JOIN Participants P ON POS.badgeid=P.badgeid\r\n    LEFT JOIN Tracks T ON T.trackid=S.trackid\r\n  GROUP BY\r\n    SCH.scheduleid\r\n  ORDER BY\r\n    SCH.starttime,\r\n    R.roomname'),(20,'thsessionservicesservice','Session Services by Service','<P>Which Session needs which Services? (Sorted by service then time.)</P>\r\n','','SELECT\r\n    X.Servicename as Service,\r\n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',starttime),\'%a %l:%i %p\') as \'Start Time\', \r\n    CASE\r\n      WHEN HOUR(duration) < 1 THEN\r\n        concat(date_format(duration,\'%i\'),\'min\')\r\n      WHEN MINUTE(duration)=0 THEN\r\n        concat(date_format(duration,\'%k\'),\'hr\')\r\n      ELSE\r\n        concat(date_format(duration,\'%k\'),\'hr \',date_format(duration,\'%i\'),\'min\')\r\n      END AS Duration,\r\n    concat(\'<A HREF=\"MaintainRoomSched.php?selroom=\',R.roomid,\'\">\',R.roomname,\'</A>\') AS Room,\r\n    Trackname, \r\n    concat(\'<A HREF=StaffAssignParticipants.php?selsess=\',X.sessionid,\'>\',X.sessionid,\'</A>\') AS Sessionid,\r\n    concat(\'<a href=EditSession.php?id=\',X.sessionid,\'>\',X.title,\'</a>\') Title\r\n  FROM\r\n      (SELECT\r\n           duration, \r\n           trackname, \r\n           S.sessionid,\r\n           title,\r\n           servicename \r\n         FROM\r\n             Tracks T, \r\n             Sessions S, \r\n             SessionHasService SF, \r\n             Services F \r\n         WHERE\r\n           T.trackid=S.trackid and\r\n           S.sessionid=SF.sessionid and\r\n           F.serviceid=SF.serviceid) X,\r\n      Rooms R, \r\n      Schedule SCH \r\n  WHERE\r\n    X.sessionid=SCH.sessionid and\r\n    SCH.roomid=R.roomid \r\n  ORDER BY\r\n    X.servicename, \r\n    starttime,\r\n    roomname'),(21,'sessioninterestcount','Session Interest Report (counts)','<P>For each session, show number of participants who have put it on their interest list. (Excludes invited guest sessions.)</P>\n','','SELECT\n    T.trackname as Track, \n    concat(\'<a href=StaffAssignParticipants.php?selsess=\',S.sessionid,\'>\', S.sessionid,\'</a>\') as \'Session<BR>ID\',\n    concat(\'<a href=EditSession.php?id=\',S.sessionid,\'>\',S.title,\'</a>\') Title,\n    count(PSI.badgeid) as \'Number<BR>of<BR>Participants\' \n  FROM\n      Sessions AS S \n    JOIN Tracks AS T ON S.trackid=T.trackid \n    LEFT JOIN ParticipantSessionInterest AS PSI ON S.sessionid=PSI.sessionid \n  WHERE\n    T.selfselect=1 and\n    statusid in (2,3,7) \n  GROUP BY\n    T.trackid, \n    S.sessionid \n  ORDER BY\n    T.display_order, \n    S.sessionid'),(22,'conflictunder3assigned','Conflict Report - Scheduled Programming sessions without enough people','<P>This report runs against scheduled sessions in division program only.   If these are panels, you need at least 3 people.  All other types require at least 1.</P>\n','','SELECT\n    T.trackname, \n    Y.typename,\n    concat(\'<a href=StaffAssignParticipants.php?selsess=\',S.sessionid,\'>\', S.sessionid,\'</a>\') as Sessionid, \n    concat(\'<a href=EditSession.php?id=\',S.sessionid,\'>\',S.title,\'</a>\') Title,\n    if(X.assigned is NULL, 0, X.assigned) assigned, concat(\'<a href=MaintainRoomSched.php?selroom=\',R.roomid,\'>\', R.roomname,\'</a>\') as Roomname\n  FROM\n      Sessions  S\n    LEFT JOIN (SELECT\n                   S1.sessionid, count(badgeid) assigned \n                 FROM\n                     Sessions S1 ,\n                     ParticipantOnSession POS \n                 WHERE\n                     S1.sessionid=POS.sessionid\n                 GROUP BY\n                     S1.sessionid ) X on S.sessionid=X.sessionid,\n      Schedule SCH,\n      Tracks T,\n      Types Y,\n      Divisions D,\n      Rooms R\n  WHERE\n    S.sessionid=SCH.sessionid and\n    S.trackid=T.trackid and\n    S.typeid=Y.typeid and\n    S.divisionid=D.divisionid and\n    SCH.roomid=R.roomid and\n    S.statusid=3 and\n    D.divisionname=\'Programming\' and\n    ((Y.typename = \'Panel\' and assigned<3) or\n     (Y.typename != \'Panel\'  and assigned<1) or\n     assigned is NULL)\n  ORDER BY\n    T.trackname,\n    S.sessionid'),(23,'invitation','Invited Guest Report','<P>For each invited guest session, list the participants who have been invited (and have not deleted the invitation.)</P>\r\n','','SELECT\r\n    T.trackname as Track,\r\n    concat(\"<a href=EditSession.php?id=\",S.sessionid,\">\",S.sessionid,\"</a>\") as \"Session<BR>ID\",\r\n    concat(\'<A HREF=EditSession.php?id=\',S.sessionid,\'>\',S.title,\'</A>\') AS Title,\r\n    PSI.badgeid as BadgeId,\r\n    concat(\'<A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',P.badgeid,\'>\',P.pubsname,\'</A>\') AS Pubsname\r\n  FROM\r\n      Sessions S\r\n    JOIN Tracks T ON S.trackid=T.trackid\r\n    LEFT JOIN ParticipantSessionInterest PSI ON S.sessionid=PSI.sessionid\r\n    LEFT JOIN Participants P on PSI.badgeid=P.badgeid\r\n  WHERE\r\n    T.selfselect=1 and\r\n    S.invitedguest=1 and\r\n    statusid=2\r\n  ORDER BY\r\n    T.display_order,\r\n    S.sessionid'),(24,'allroomschedtrackroom','Full Room Schedule by track then room then time','<P>Lists all Sessions Scheduled in all Rooms.</P>\r\n','','SELECT\r\n    Trackname,\r\n    concat(\'<a href=MaintainRoomSched.php?selroom=\',R.roomid,\'>\', R.roomname,\'</a>\') as Roomname,\r\n    Function,\r\n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',starttime),\'%a %l:%i %p\') as \'Start Time\',\r\n    CASE\r\n      WHEN HOUR(duration) < 1 THEN\r\n        concat(date_format(duration,\'%i\'),\'min\')\r\n      WHEN MINUTE(duration)=0 THEN\r\n        concat(date_format(duration,\'%k\'),\'hr\')\r\n      ELSE\r\n        concat(date_format(duration,\'%k\'),\'hr \',date_format(duration,\'%i\'),\'min\')\r\n      END AS Duration,\r\n    concat(\'<a href=StaffAssignParticipants.php?selsess=\',S.sessionid,\'>\', S.sessionid,\'</a>\') as Sessionid,\r\n    concat(\'<a href=EditSession.php?id=\',S.sessionid,\'>\',S.title,\'</a>\') Title,\r\n    group_concat(\' \',concat(\'<A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',P.badgeid,\'>\',P.pubsname,\'</A>\'),\' (\',P.badgeid,\')\') as \'Participants\'\r\n  FROM\r\n      Schedule SCH\r\n    JOIN Sessions S USING (sessionid)\r\n    JOIN Rooms R USING (roomid)\r\n    LEFT JOIN ParticipantOnSession POS ON SCH.sessionid=POS.sessionid\r\n    LEFT JOIN Participants P ON POS.badgeid=P.badgeid\r\n    LEFT JOIN Tracks T ON T.trackid=S.trackid\r\n  GROUP BY\r\n    SCH.scheduleid\r\n  ORDER BY\r\n    T.trackname,\r\n    R.roomname,\r\n    SCH.starttime'),(25,'conflictschedassn','Conflict Report - Assigned v. Scheduled issue','<P>These are sessions that are either in the grid and have no one assigned or the have people assigned and are not in the grid.</P>\n','','SELECT\n    trackname,\n    typename,\n    divisionname,\n    concat(\'<a href=StaffAssignParticipants.php?selsess=\',S.sessionid,\'>\', S.sessionid,\'</a>\') as Sessionid, \n    concat(\'<a href=EditSession.php?id=\',S.sessionid,\'>\',title,\'</a>\') Title,\n    if ((SCH.sessionid is NULL), \'no room\', concat(\'<a href=MaintainRoomSched.php?selroom=\',R.roomid,\'>\', R.roomname,\'</a>\')) in_grid, \n    if ((num_assigned is NULL), 0, num_assigned) as num_assigned,\n    if ((num_int is NULL), 0, num_int) as num_int\n  FROM\n      Tracks T, \n      Types Y,\n      Divisions D,\n      Sessions S \n    LEFT JOIN Schedule SCH on S.sessionid=SCH.sessionid \n    LEFT JOIN (SELECT\n                   sessionid, \n                   count(badgeid) as num_assigned \n                 FROM\n                     ParticipantOnSession \n                 GROUP BY\n                     sessionid) A on A.sessionid=S.sessionid \n    LEFT JOIN (SELECT\n                   sessionid,\n                   count(badgeid) as num_int \n                 FROM\n                     ParticipantSessionInterest\n                 GROUP BY\n                     sessionid) B on B.sessionid=S.sessionid\n    LEFT JOIN Rooms R on R.roomid=SCH.roomid \n  WHERE\n    T.trackid=S.trackid and\n    Y.typeid=S.typeid and\n    D.divisionid=S.divisionid\n  HAVING \n    (in_grid=\'no room\' and num_assigned>0) or\n    (in_grid!=\'no room\' and (num_assigned<1 or num_assigned is NULL))\n  ORDER BY\n    num_assigned DESC,\n    in_grid'),(26,'conflictpartdup','Conflict Report - Participant Double Booked','<P>Find all instances where a participant is scheduled to be in two or more places at once.</P>\n','<P>Click on the session id to edit the session\'s volunteer or announcer.</P>','SELECT\n    concat(P.pubsname, \'(\', P.badgeid, \')\') as Participant,\n    \' \',\n    TA.trackname as \'Track A\', \n    concat(\'<a href=MaintainRoomSched.php?selroom=\',RA.roomid,\'>\', RA.roomname,\'</a>\') as \'Room A\', \n    concat(\'<a href=StaffAssignParticipants.php?selsess=\',Asess,\'>\', Asess,\'</a>\') as \'Session ID A\', \n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',Astart),\'%a %l:%i %p\') as \'Start Time A\', \n    left(Adur,5) as \'Dur A\',\n    \' \',\n    TB.trackname as \'Track B\', \n    concat(\'<a href=MaintainRoomSched.php?selroom=\',RB.roomid,\'>\', RB.roomname,\'</a>\') as \'Room B\', \n    concat(\'<a href=StaffAssignParticipants.php?selsess=\',Bsess,\'>\', Bsess,\'</a>\') as \'Session ID B\', \n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',Bstart),\'%a %l:%i %p\') as \'Start Time B\',\n    left(Bdur,5) as \'Dur B\'\n  FROM\n      Rooms RA, \n      Rooms RB, \n      Tracks TA, \n      Tracks TB, \n      Participants P,\n      (SELECT\n          POSA.badgeid, \n          SCHA.roomid AS Aroom, \n          SCHA.sessionid AS Asess, \n          SCHA.starttime AS Astart, \n          ADDTIME(SCHA.starttime, SA.duration) AS Aend, \n          SA.trackid AS Atrack, \n	  SA.duration AS Adur,\n          SCHB.sessionid AS Bsess, \n          SCHB.roomid AS Broom, \n          SCHB.starttime AS Bstart, \n          ADDTIME(SCHB.starttime, SB.duration) AS Bend, \n          SB.trackid AS Btrack,\n	  SB.duration AS Bdur\n        FROM ParticipantOnSession POSA, \n            ParticipantOnSession POSB, \n            Schedule SCHA, \n            Schedule SCHB, \n            Sessions SA, \n            Sessions SB \n        WHERE\n          POSA.sessionid = SA.sessionid and\n          SCHA.sessionid=POSA.sessionid and\n          POSB.sessionid = SB.sessionid and\n          SCHB.sessionid=POSB.sessionid and\n          POSA.badgeid=POSB.badgeid and\n          (SCHA.starttime<SCHB.starttime or \n           (SCHA.starttime=SCHB.starttime and \n            SCHA.sessionid<SCHB.sessionid)) and\n          ADDTIME(SCHA.starttime, SA.duration)>SCHB.starttime and\n          POSA.sessionid<>POSB.sessionid) as Foo \n  WHERE\n    Aroom=RA.roomid and\n    P.badgeid=Foo.badgeid and\n    Broom=RB.roomid and\n    TA.trackid=Atrack and\n    TB.trackid=Btrack\n  ORDER BY\n    cast(P.badgeid as unsigned), \n    Astart'),(27,'prognamesannvolprog','Program Participant Number, Names, Contact, and Involvement','<P>Full listing of the names and contact, and how many classes, as a Program Participant, Announcer or Volunteer they are involved in.</P>\r\n','<P>Replaces 4progthankyounotereport\'s non-csv version.</P>\r\n','SELECT\r\n    P.badgeid, \r\n    concat(\'<A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',P.badgeid,\'>\',P.pubsname,\'</A>\') AS Pubsname,\r\n    C.firstname, \r\n    C.lastname, \r\n    C.email, \r\n    SCH.sessioncount as \'Total involvement\', \r\n    SCH.volcount as \'Volunteer Sessions\',\r\n    SCH.intcount as \'Introducer Sessions\',\r\n    SCH.aidcount as \'Assisting Sessions\',\r\n    (SCH.sessioncount-SCH.volcount-SCH.intcount-SCH.aidcount) as \'Program Sessions\' \r\n  FROM\r\n      CongoDump as C, \r\n      Participants as P \r\n    LEFT JOIN (SELECT\r\n                   POS1.badgeid as badgeid , \r\n                   count(SCH1.sessionid) as sessioncount,\r\n                   sum(if(volunteer=1,1,0)) as volcount,\r\n                   sum(if(introducer=1,1,0)) as intcount,\r\n                   sum(if(aidedecamp=1,1,0)) as aidcount\r\n                 FROM\r\n                     ParticipantOnSession POS1, \r\n                     Schedule SCH1, \r\n                     Sessions S, \r\n                     Tracks T \r\n               WHERE\r\n                 POS1.sessionid=SCH1.sessionid and\r\n                 SCH1.sessionid=S.sessionid and\r\n                 S.trackid=T.trackid \r\n               GROUP BY\r\n                 POS1.badgeid) as SCH on P.badgeid=SCH.badgeid \r\n  WHERE \r\n    SCH.sessioncount is not NULL and\r\n    C.badgeid=P.badgeid \r\n  GROUP BY\r\n    (P.badgeid) \r\n  ORDER BY\r\n    cast(P.badgeid as unsigned)'),(28,'gohintvschedulepanel','Interest v Schedule - sorted by GoHs','<P>For each GoH, show which panels (but not Events) they are interested in,  and if they are assigned to it.  Also show the scheduling information.</P>\r\n','','SELECT \r\n    concat(\'<A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',X.badgeid,\'>\',X.pubsname,\'</A> (\',X.badgeid,\')\') AS Pubsname,\r\n    X.trackname, \r\n    concat(\'<a href=StaffAssignParticipants.php?selsess=\',X.sessionid,\'>\', X.sessionid,\'</a>\') as Sessionid,\r\n    concat(\'<a href=EditSession.php?id=\',X.sessionid,\'>\',X.title,\'</a>\') as Title,\r\n    (if (X.assigned is NULL,\' \',\'yes\')) as \'Assigned?\', (if (moderator is NULL or moderator=0,\' \',\'yes\')) as \'Moderator?\', concat(\'<a href=MaintainRoomSched.php?selroom=\',Y.roomid,\'>\', Y.roomname,\'</a>\') as Roomname,\r\n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',Y.starttime),\'%a %l:%i %p\') as \'Start Time\' \r\n  FROM \r\n      (SELECT\r\n           PI.badgeid,\r\n           PI.pubsname,\r\n           PI.sessionid,\r\n           POS.sessionid as assigned,\r\n           moderator,\r\n           title,\r\n           trackname \r\n         FROM\r\n             (SELECT\r\n                  T.trackname,\r\n                  S.title,\r\n                  S.sessionid,\r\n                  P.badgeid,\r\n                  P.pubsname \r\n               FROM\r\n                   Tracks T,\r\n                   ParticipantSessionInterest PSI, \r\n                   Participants P,\r\n                   Sessions S\r\n               WHERE\r\n                 S.trackid=T.trackid and\r\n                 P.interested=1 and\r\n		 P.badgeid in $GohBadgeList and\r\n                 P.badgeid=PSI.badgeid and \r\n                 S.sessionid=PSI.sessionid) PI \r\n           LEFT JOIN ParticipantOnSession POS on POS.badgeid=PI.badgeid and POS.sessionid=PI.sessionid) X \r\n    LEFT JOIN (SELECT\r\n                   SCH.starttime,\r\n                   R.roomname,\r\n                   R.roomid,\r\n                   SCH.sessionid \r\n                FROM\r\n                    Schedule SCH,\r\n                    Rooms R \r\n                WHERE\r\n                  R.roomid=SCH.roomid) as Y on X.sessionid=Y.sessionid\r\n  ORDER BY\r\n    badgeid'),(29,'arisiatvroomsched','Arisia TV by time.','<P>Just things in TV room.</P>\n','','SELECT\n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',starttime),\'%a %l:%i %p\') as \'Start Time\',\n    CASE\n      WHEN HOUR(duration) < 1 THEN\n        concat(date_format(duration,\'%i\'),\'min\')\n      WHEN MINUTE(duration)=0 THEN\n        concat(date_format(duration,\'%k\'),\'hr\')\n      ELSE\n        concat(date_format(duration,\'%k\'),\'hr \',date_format(duration,\'%i\'),\'min\')\n      END AS Duration,\n    trackname, \n    S.sessionid,\n    title,\n    group_concat(\' \',pubsname,\' (\',P.badgeid,\')\') as \'Participants\'\n  FROM\n      Tracks T,\n      Rooms R,\n      Sessions S,\n      Schedule SCH\n    LEFT JOIN ParticipantOnSession POS ON SCH.sessionid = POS.sessionid\n    LEFT JOIN Participants P ON POS.badgeid = P.badgeid\n  WHERE\n    T.trackid = S.trackid and\n    SCH.roomid = R.roomid and\n    SCH.sessionid = S.sessionid and\n    roomname in (\'ArisiaTV\')\n  GROUP BY\n    SCH.sessionid\n  ORDER BY\n    SCH.starttime'),(30,'allroomschedtrack','Full Room Schedule by track then time.','<P>Lists all Sessions Scheduled in all Rooms.</P>\r\n','','SELECT\r\n    Trackname,\r\n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',starttime),\'%a %l:%i %p\') as \'Start Time\',\r\n    CASE\r\n      WHEN HOUR(duration) < 1 THEN\r\n        concat(date_format(duration,\'%i\'),\'min\')\r\n      WHEN MINUTE(duration)=0 THEN\r\n        concat(date_format(duration,\'%k\'),\'hr\')\r\n      ELSE\r\n        concat(date_format(duration,\'%k\'),\'hr \',date_format(duration,\'%i\'),\'min\')\r\n      END AS Duration,\r\n    concat(\'<a href=MaintainRoomSched.php?selroom=\',R.roomid,\'>\', R.roomname,\'</a>\') as Roomname,\r\n    Function,\r\n    concat(\'<a href=StaffAssignParticipants.php?selsess=\',S.sessionid,\'>\', S.sessionid,\'</a>\') as Sessionid,\r\n    concat(\'<a href=EditSession.php?id=\',S.sessionid,\'>\',S.title,\'</a>\') Title,\r\n    group_concat(\' \',\'<A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',P.badgeid,\'>\',P.pubsname,\'</A>\',\' (\',P.badgeid,\')\') as \'Participants\'\r\n  FROM\r\n      Schedule SCH\r\n    JOIN Sessions S USING (sessionid)\r\n    JOIN Rooms R USING (roomid)\r\n    LEFT JOIN ParticipantOnSession POS ON SCH.sessionid=POS.sessionid\r\n    LEFT JOIN Participants P ON POS.badgeid=P.badgeid\r\n    LEFT JOIN Tracks T ON T.trackid=S.trackid\r\n  GROUP BY\r\n    SCH.scheduleid\r\n  ORDER BY \r\n    T.trackname,\r\n    SCH.starttime'),(31,'gohschedule','GoH Schedule','<P>The GoH schedules.</P>\r\n','','SELECT \r\n    concat(\'<A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',G.badgeid,\'>\',G.pubsname,\'</A>\') AS Pubsname, \r\n    concat(\'<a href=MaintainRoomSched.php?selroom=\',R.roomid,\'>\', R.roomname,\'</a>\') as Roomname,\r\n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',starttime),\'%a %l:%i %p\') as \'Start Time\', \r\n    CASE\r\n      WHEN HOUR(duration) < 1 THEN\r\n        concat(date_format(duration,\'%i\'),\'min\')\r\n      WHEN MINUTE(duration)=0 THEN\r\n        concat(date_format(duration,\'%k\'),\'hr\')\r\n      ELSE\r\n        concat(date_format(duration,\'%k\'),\'hr \',date_format(duration,\'%i\'),\'min\')\r\n      END AS duration,\r\n      trackname, \r\n      concat(\'<a href=StaffAssignParticipants.php?selsess=\',S.sessionid,\'>\', S.sessionid,\'</a>\') as Sessionid, \r\n      concat(\'<a href=EditSession.php?id=\',S.sessionid,\'>\',title,\'</a>\') AS Title,\r\n      if ((S.pubstatusid=1), \'S-O\', if((S.pubstatusid=3), \'DNP\', \' \')) as \'Pubs Status\',\r\n      if ((moderator=1), \'Yes\', \' \') as \'moderator\'\r\n  FROM\r\n      Sessions S\r\n    JOIN Schedule SCH USING (sessionid)\r\n    JOIN Rooms R USING (roomid)\r\n    LEFT JOIN ParticipantOnSession POS ON SCH.sessionid=POS.sessionid \r\n    LEFT JOIN Participants P ON POS.badgeid=P.badgeid\r\n    LEFT JOIN Tracks T ON T.trackid=S.trackid\r\n    JOIN Participants G ON G.badgeid = POS.badgeid\r\n  WHERE\r\n    G.badgeid in $GohBadgeList\r\n  ORDER BY\r\n    G.pubsname,\r\n    SCH.starttime'),(32,'participantinterests','Participant Interests','<P>What is that participant interested in?</P>\r\n','','SELECT\r\n    P.badgeid,\r\n    concat(\'<A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',P.badgeid,\'>\',P.pubsname,\'</A>\') AS Pubsname,\r\n    yespanels as \"New Panel Ideas\",\r\n    nopanels as \"Panel Not Interested\",\r\n    yespeople,\r\n    nopeople,\r\n    otherroles \r\n  FROM\r\n      ParticipantInterests PI, \r\n      Participants P\r\n  WHERE\r\n    P.badgeid=PI.badgeid'),(33,'sessioninterest','Session Interest Report (all info)','<P>Shows who has expressed interest in each session, how they ranked it, what they said, if they will moderate... Large Report.  (All data included including for invited sessions.)</P>\r\n','','SELECT\r\n    T.trackname as \'Track\',\r\n    CONCAT(\'<A HREF=StaffAssignParticipants.php?selsess=\',S.sessionid,\'>\', S.sessionid,\'</A>\') as Sessionid,\r\n    CONCAT(\'<A HREF=EditSession.php?id=\',S.sessionid,\'>\',title,\'</A>\') as title,\r\n    concat(\'<A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',P.badgeid,\'>\',P.pubsname,\'</A>\') AS Pubsname,\r\n    P.badgeid as \'BadgeID\',\r\n    PSI.rank as \'Rank\',\r\n    PSI.willmoderate as \'Mod?\',\r\n    PSI.comments as \'Comments\'\r\n  FROM\r\n      Participants P,\r\n      ParticipantSessionInterest PSI,\r\n      Sessions S,\r\n      Tracks T\r\n  WHERE\r\n    P.badgeid=PSI.badgeid AND\r\n    S.sessionid=PSI.sessionid AND\r\n    T.trackid=S.trackid\r\n  ORDER BY\r\n    T.trackname,\r\n    title'),(34,'assignedsessionbypart','Assigned Session by Participant','<P>Shows who has been assigned to each session ordered by badgeid.</P>\r\n','','SELECT\r\n    P.Badgeid, \r\n    concat(\'<A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',P.badgeid,\'>\',P.pubsname,\'</A>\') AS Pubsname, \r\n    if ((moderator=1), \'Yes\', \' \') as \'Moderator\',\r\n    concat(\'<a href=StaffAssignParticipants.php?selsess=\',Sessions.sessionid,\'>\', Sessions.sessionid,\'</a>\') as Sessionid,\r\n    concat(\'<a href=EditSession.php?id=\',Sessions.sessionid,\'>\',Sessions.title,\'</a>\') Title\r\n  FROM\r\n      ParticipantOnSession, \r\n      Sessions, \r\n      Participants P\r\n  WHERE\r\n    ParticipantOnSession.badgeid=P.badgeid and\r\n    ParticipantOnSession.sessionid=Sessions.sessionid \r\n  ORDER BY\r\n    cast(P.badgeid as unsigned)'),(35,'pubs','Report for Pubs','<P>Report for Paul\'s Pocket Program.</P>\r\n','','SELECT\r\n    S.sessionid, \r\n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',starttime),\'%a\') as Day, \r\n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',starttime),\'%l:%i %p\') as \'Time\', \r\n    CASE\r\n      WHEN HOUR(duration) < 1 THEN\r\n        concat(date_format(duration,\'%i\'),\'min\')\r\n      WHEN MINUTE(duration)=0 THEN\r\n        concat(date_format(duration,\'%k\'),\'hr\')\r\n      ELSE\r\n        concat(date_format(duration,\'%k\'),\'hr \',date_format(duration,\'%i\'),\'min\')\r\n      END AS Duration,\r\n    roomname, \r\n    trackname as TRACK, \r\n    typename as TYPE,\r\n    K.kidscatname,\r\n    title, \r\n    progguiddesc as \'Long Text\',\r\n    pocketprogtext as \'Short Text\',\r\n    group_concat(\' \',pubsname, if (moderator=1,\' (m)\',\'\')) as \'PARTIC\' \r\n  FROM \r\n      Rooms R, \r\n      KidsCategories K,\r\n      Sessions S, \r\n      Tracks T,\r\n      Types Ty, \r\n      Schedule SCH \r\n    LEFT JOIN ParticipantOnSession POS on SCH.sessionid=POS.sessionid \r\n    LEFT JOIN Participants P on POS.badgeid=P.badgeid\r\n  WHERE\r\n    R.roomid = SCH.roomid and\r\n    K.kidscatid=S.kidscatid and\r\n    SCH.sessionid = S.sessionid and\r\n    T.trackid=S.trackid and\r\n    S.typeid=Ty.typeid and\r\n    S.pubstatusid = 2\r\n  GROUP BY\r\n    SCH.sessionid \r\n  ORDER BY\r\n    SCH.starttime, \r\n    R.roomname'),(36,'pubssched','Schedule report for Pubs','<P>Lists all Sessions Scheduled in all Rooms.</P>\r\n','\r\n','SELECT\r\n    S.sessionid,\r\n    R.roomname, \r\n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',SCH.starttime),\'%a %l:%i %p\') as \'Start Time\', \r\n    CASE \r\n      WHEN HOUR(duration) < 1 THEN \r\n        concat(date_format(duration,\'%i\'),\'min\') \r\n      WHEN MINUTE(duration)=0 THEN \r\n        concat(date_format(duration,\'%k\'),\'hr\') \r\n      ELSE\r\n        concat(date_format(duration,\'%k\'),\'hr \',date_format(duration,\'%i\'),\'min\')\r\n      END AS Duration,\r\n    T.trackname,\r\n    S.title, \r\n    PS.pubstatusname\r\n  FROM \r\n      Sessions S\r\n    JOIN Schedule SCH using (sessionid)\r\n    JOIN Rooms R using (roomid)\r\n    JOIN Tracks T using (trackid)\r\n    JOIN PubStatuses PS using (pubstatusid) \r\n  ORDER BY\r\n    SCH.starttime, \r\n    R.roomname'),(37,'assignedsessionbypartdiff','Differential Assigned Session by Participant','<P>Recent changes to whom has been assigned to each session ordered by time, then badgeid.</P>\n','','SELECT\n    P.badgeid, \n    P.pubsname, \n    Sessions.sessionid as SessionId, \n    title, \n    if ((moderator=1), \'Yes\', \' \') as \'moderator\',\n    POS.ts as changed\n  FROM\n      ParticipantOnSession POS, \n      Sessions, \n      Participants P \n  WHERE\n    POS.badgeid=P.badgeid and\n    POS.sessionid=Sessions.sessionid and\n    POS.ts>\'2009-1-7 13:50:00\'\n  ORDER BY\n    POS.ts,\n    cast(P.badgeid as unsigned)'),(38,'conflictpartnums','Conflict Report - Participant Number of Sessions','<P>Compare number of sessions participants requested with the number of which they were assigned.</P>\r\n','','SELECT\r\n    PA.badgeid, \r\n    concat(\'<A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',PA.badgeid,\'>\',P.pubsname,\'</A>\') AS Pubsname, \r\n    if ((fridaymaxprog is NULL), \'<div style=background:lightgray;>-</div>\',concat(\'<div style=background:lightgray;>\',fridaymaxprog,\'</div>\')) as \'Fri Reqd.\', \r\n    if ((frisched is NULL), \'-\', frisched) as \'Fri Asgnd.\', \r\n    if ((saturdaymaxprog is NULL), \'<div style=background:lightgray;>-</div>\',concat(\'<div style=background:lightgray;>\',saturdaymaxprog,\'</div>\')) as \'Sat Reqd.\', \r\n    if ((satsched is NULL), \'-\', satsched) as \'Sat Asgnd.\', \r\n    if ((sundaymaxprog is NULL), \'<div style=background:lightgray;>-</div>\',concat(\'<div style=background:lightgray;>\',sundaymaxprog,\'</div>\')) as \'Sun Reqd.\', \r\n    if ((sunsched is NULL), \'-\', sunsched) as \'Sun Asgnd.\', \r\n    if ((mondaymaxprog is NULL), \'<div style=background:lightgray;>-</div>\',concat(\'<div style=background:lightgray;>\',mondaymaxprog,\'</div>\')) as \'Mon Reqd.\', \r\n    if ((monsched is NULL), \'-\', monsched) as \'Mon Asgnd.\', \r\n    if ((maxprog is NULL), \'<div style=background:lightgray;>-</div>\',concat(\'<div style=background:lightgray;>\',maxprog,\'</div>\')) as \'Total Reqd.\', \r\n    if ((totsched is NULL), \'-\', totsched) as \'Tot Asgnd.\'\r\n  FROM\r\n      ParticipantAvailability PA,  \r\n      Participants P \r\n    LEFT JOIN (SELECT\r\n                   badgeid, \r\n                   sum(if(starttime<\'24:00:00\',1,0)) as frisched, \r\n                   sum(if((starttime>=\'24:00:00\' && starttime<\'48:00:00\'),1,0)) as satsched, \r\n                   sum(if((starttime>=\'48:00:00\' && starttime<\'72:00:00\'),1,0)) as sunsched, \r\n                   sum(if(starttime>=\'72:00:00\',1,0)) as monsched, \r\n                   count(*) as totsched \r\n                 FROM\r\n                     (SELECT\r\n                          POS.badgeid, \r\n                          POS.sessionid, \r\n                          SCH.starttime \r\n                        FROM\r\n                            ParticipantOnSession POS, \r\n                            Schedule SCH \r\n                        WHERE\r\n                          POS.sessionid=SCH.sessionid) as FOO\r\n                 GROUP BY\r\n                   badgeid) as BAR on P.badgeid=BAR.badgeid \r\n    LEFT JOIN (SELECT \r\n                   badgeid,\r\n                   sum(if(day=1,maxprog,0)) as fridaymaxprog,\r\n                   sum(if(day=2,maxprog,0)) as saturdaymaxprog,\r\n                   sum(if(day=3,maxprog,0)) as sundaymaxprog,\r\n                   sum(if(day=4,maxprog,0)) as mondaymaxprog\r\n                 FROM\r\n                     ParticipantAvailabilityDays\r\n                 GROUP BY\r\n                     badgeid) as PAD on P.badgeid = PAD.badgeid\r\n  WHERE \r\n    PA.badgeid = P.badgeid and\r\n    P.interested=1 \r\n  ORDER BY\r\n    cast(PA.badgeid as unsigned)'),(39,'allroomsched','Full Room Schedule by room then time.','<P>Lists all Sessions Scheduled in all Rooms.</P>\r\n','','SELECT \r\n    concat(\'<a href=MaintainRoomSched.php?selroom=\',R.roomid,\'>\', R.roomname,\'</a>\') as Roomname,\r\n    Function, \r\n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',starttime),\'%a %l:%i %p\') as \'Start Time\',\r\n    CASE\r\n      WHEN HOUR(duration) < 1 THEN\r\n        concat(date_format(duration,\'%i\'),\'min\')\r\n      WHEN MINUTE(duration)=0 THEN\r\n        concat(date_format(duration,\'%k\'),\'hr\')\r\n      ELSE\r\n        concat(date_format(duration,\'%k\'),\'hr \',date_format(duration,\'%i\'),\'min\')\r\n      END AS Duration,\r\n    Trackname,\r\n    concat(\'<a href=StaffAssignParticipants.php?selsess=\',S.sessionid,\'>\', S.sessionid,\'</a>\') as Sessionid,\r\n    concat(\'<a href=EditSession.php?id=\',S.sessionid,\'>\',S.title,\'</a>\') Title,\r\n    group_concat(\' \',\'<A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',P.badgeid,\'>\',P.pubsname,\'</A> (\',P.badgeid,\')\') AS Participants\r\n  FROM\r\n      Sessions S\r\n    JOIN Schedule SCH USING (sessionid)\r\n    JOIN Rooms R USING (roomid)\r\n    LEFT JOIN ParticipantOnSession POS ON SCH.sessionid=POS.sessionid\r\n    LEFT JOIN Participants P ON POS.badgeid=P.badgeid\r\n    LEFT JOIN Tracks T ON T.trackid=S.trackid\r\n  GROUP BY\r\n    SCH.scheduleid \r\n  ORDER BY \r\n    R.roomname, \r\n    SCH.starttime'),(40,'sessionnotes','Session Notes','<P>Interesting info on a Session for sessions whose status is one of EditMe, Brainstorm, Vetted, Assigned, or Scheduled.</P>\n','','SELECT\n    concat(\'<a href=StaffAssignParticipants.php?selsess=\',S.sessionid,\'>\', S.sessionid,\'</a>\') as \'Session<BR>id\',\n    Trackname, \n    concat(\'<a href=EditSession.php?id=\',S.sessionid,\'>\',S.title,\'</a>\') Title,\n    if (invitedguest,\'yes\',\'no\') as \'Invited Guest?\',\n    servicenotes as \'Hotel and Tech notes\', \n    notesforprog as \'Notes for Programming\' \n  FROM\n      Tracks T, \n      Sessions S, \n      SessionStatuses SS \n  WHERE\n    T.trackid=S.trackid and\n    SS.statusid=S.statusid and\n    SS.statusname in (\'EditMe\', \'Brainstorm\', \'Vetted\', \'Assigned\', \'Scheduled\') and\n    (invitedguest=1 or notesforprog is not NULL or servicenotes is not NULL)\n  ORDER BY\n   S.sessionid'),(41,'conflictsessdup','Conflict Report - Duplicate Session','<P>Lists all sessions scheduled more than once.</P>\r\n','','SELECT\r\n    concat(\'<A HREF=StaffAssignParticipants.php?selsess=\',S.sessionid,\'>\',S.sessionid,\'</A>\') AS Sessionid, \r\n    concat(\'<A HREF=EditSession.php?id=\',S.sessionid,\'>\',S.title,\'</A>\') AS Title, \r\n    concat(\'<a href=MaintainRoomSched.php?selroom=\',R.roomid,\'>\', \r\n    R.roomname,\'</a>\') as Roomname,\r\n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',SCH.starttime),\'%a %l:%i %p\') as \'Start Time\' \r\n  FROM\r\n      Sessions S, \r\n      Rooms R, \r\n      Schedule SCH, \r\n      (SELECT\r\n           sessionid, \r\n           count(*) as mycount \r\n         FROM\r\n             Schedule \r\n         GROUP BY\r\n             sessionid \r\n         HAVING\r\n             mycount>1) X \r\n  WHERE\r\n    S.sessionid=X.sessionid and\r\n    S.sessionid=SCH.sessionid and\r\n    R.roomid = SCH.roomid\r\n  ORDER BY\r\n    S.sessionid'),(42,'pubsnew','Pubs - Session Characteristics plus long description','<P>For Scheduled items ONLY. Show sessionid, track, type, divisionid, pubstatusid, pubno, pubchardest, kids, title, short description.</P>\r\n','','SELECT\r\n    S.sessionid, \r\n    trackname, \r\n    typename, \r\n    divisionname, \r\n    pubcharname, \r\n    kidscatname, \r\n    title, \r\n    roomname, \r\n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',starttime), \'%a %l:%i %p\') as \'Start Time\', \r\n    CASE \r\n      WHEN HOUR(duration) < 1 THEN \r\n        concat(date_format(duration,\'%i\'),\'min\') \r\n      WHEN MINUTE(duration)=0 THEN \r\n        concat(date_format(duration,\'%k\'),\'hr\') \r\n      ELSE\r\n        concat(date_format(duration,\'%k\'),\'hr \',date_format(duration,\'%i\'),\'min\')\r\n      END as duration,\r\n    if(group_concat(\' \',pubsname) is NULL,\'\',group_concat(\' \',pubsname)) as \'Participants\' ,\r\n    pocketprogtext as \'Short Description\'\r\n  FROM\r\n      Tracks T, \r\n      Types Ty, \r\n      Divisions D, \r\n      PubStatuses PS, \r\n      KidsCategories K, \r\n      Rooms R, \r\n      Sessions S \r\n    LEFT JOIN SessionHasPubChar SHPC ON S.sessionid=SHPC.sessionid \r\n    LEFT JOIN PubCharacteristics PC ON SHPC.pubcharid=PC.pubcharid, \r\n      Schedule SCH \r\n    LEFT JOIN ParticipantOnSession POS ON SCH.sessionid=POS.sessionid \r\n    LEFT JOIN CongoDump C ON POS.badgeid=C.badgeid \r\n    LEFT JOIN Participants P ON C.badgeid=P.badgeid\r\n  WHERE \r\n    S.trackid=T.trackid and\r\n    S.typeid=Ty.typeid and\r\n    S.divisionid=D.divisionid and\r\n    S.pubstatusid=PS.pubstatusid and\r\n    PS.pubstatusname = \'Public\' and\r\n    S.kidscatid=K.kidscatid and\r\n    S.sessionid=SCH.sessionid and\r\n    R.roomid=SCH.roomid and\r\n    POS.volunteer=0 and\r\n    POS.introducer=0 and\r\n    POS.aidedecamp=0\r\n  GROUP BY\r\n    S.sessionid\r\n  ORDER BY\r\n     S.title'),(43,'sessionedit','Session Edit History Report','<P>Show the most recent edit activity for each session (sorted by time).</P>\n','','SELECT\n    SEH2.timestamp as \"When\",\n    concat(\"<a href=StaffAssignParticipants.php?selsess=\",S.sessionid,\">\", S.sessionid,\"</a>\") as Sessionid,\n    T.trackname as \"Track\", \n    concat(\"<a href=EditSession.php?id=\",S.sessionid,\">\",S.title,\"</a>\") Title,\n    SS.statusname as \"Current<BR>Status\", \n    concat(SEH1.name,\" (\",SEH1.email_address,\")\") as \"Who\", \n    SEC.description as \"What\"\n  FROM\n      Sessions S, \n      Tracks T, \n      SessionStatuses SS, \n      SessionEditHistory SEH1, \n      SessionEditCodes SEC, \n      (SELECT\n           SEH3.sessionid, \n           Max(SEH3.timestamp) as timestamp \n         FROM\n             SessionEditHistory SEH3 \n         GROUP BY\n           SEH3.sessionid) SEH2 \n  WHERE\n    S.trackid=T.trackid and\n    S.sessionid = SEH1.sessionid and\n    S.sessionid = SEH2.sessionid and\n    SEH1.timestamp = SEH2.timestamp and\n    S.statusid = SS.statusid and\n    SEH1.sessioneditcode = SEC.sessioneditcode and\n    S.statusid >= 1 and\n    S.statusid <= 7 \n  ORDER BY\n    SEH2.timestamp Desc'),(44,'intvschedpanelnames','Interest v Schedule - sorted by pubsname','<P>Show who is interested in each panel and if they are assigned to it.  Also show the scheduling information (sorted by pubsname).</P>\r\n','','SELECT\r\n    concat(\'<A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',X.badgeid,\'>\',X.pubsname,\'</A> (\',X.badgeid,\')\') AS Pubsname,\r\n    X.trackname, \r\n    concat(\'<a href=StaffAssignParticipants.php?selsess=\',X.sessionid,\'>\', X.sessionid,\'</a>\') as Sessionid,\r\n    concat(\'<a href=EditSession.php?id=\',X.sessionid,\'>\',X.title,\'</a>\') Title,\r\n    X.rank as Rank,\r\n    (if (X.assigned is NULL,\' \',\'yes\')) as \'Asgn?\', \r\n    (if (moderator is NULL or moderator=0,\' \',\'yes\')) as \'Mod?\', \r\n    concat(\'<a href=MaintainRoomSched.php?selroom=\',Y.roomid,\'>\', Y.roomname,\'</a>\') as Roomname,\r\n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',Y.starttime),\'%a %l:%i %p\') as \'Start Time\' \r\n    FROM \r\n        (SELECT\r\n             PI.badgeid,\r\n             PI.pubsname,\r\n             PI.sessionid,\r\n             POS.sessionid as assigned,\r\n             moderator,\r\n             title,\r\n             trackname,\r\n             rank\r\n           FROM\r\n               (SELECT\r\n                    T.trackname,\r\n                    S.title,\r\n                    S.sessionid,\r\n                    P.badgeid,\r\n                    P.pubsname,\r\n                    PSI.rank\r\n                 FROM\r\n                     Tracks T,\r\n                     ParticipantSessionInterest PSI, \r\n                     Participants P,\r\n                     Sessions S\r\n                 WHERE\r\n                   S.trackid=T.trackid and\r\n                   P.interested=1 and\r\n                   P.badgeid=PSI.badgeid and\r\n                   S.sessionid=PSI.sessionid ) PI \r\n             LEFT JOIN ParticipantOnSession POS on POS.badgeid=PI.badgeid and POS.sessionid=PI.sessionid) X \r\n      LEFT JOIN (SELECT\r\n                     SCH.starttime,\r\n		     R.roomname,\r\n		     R.roomid,\r\n		     SCH.sessionid \r\n                   FROM\r\n                       Schedule SCH,\r\n                       Rooms R \r\n                   WHERE\r\n                     R.roomid=SCH.roomid) as Y on X.sessionid=Y.sessionid \r\n  ORDER BY\r\n    substring_index(pubsname,\' \',-1),\r\n    pubsname,\r\n    trackname'),(45,'conflictnomod','Conflict Report - Sessions with no moderator','<P>Panels need a moderator.  Other activities may not.  Think before you jump.  (This is limited to items in the schedule which have at least one participant.)</P>\r\n','<P>Click on the session id to edit the session\'s moderator.</P>\r\n','SELECT\r\n    typename as \'Type\',\r\n    concat(\'(<A HREF=StaffAssignParticipants.php?selsess=\',S.sessionid,\'>\', S.sessionid,\'</A>) <A HREF=EditSession.php?id=\',S.sessionid,\'>\',S.title,\'</A>\') AS Title\r\n  FROM\r\n      Sessions S \r\n    JOIN \r\n      Types T USING (typeid) \r\n    LEFT JOIN\r\n      (SELECT\r\n           sessionid,                \r\n           count(*) as parts,\r\n           sum(if(moderator=1,1,0)) as mods\r\n         FROM ParticipantOnSession\r\n         GROUP BY sessionid) X USING (sessionid)\r\n  WHERE \r\n    X.parts>0 AND\r\n    X.mods=0\r\n  ORDER BY\r\n    S.sessionid'),(46,'prelimschedbrief','Preliminary Schedule','<P>Preliminary panel schedule.</P>\n','<P>Please keep in mind that is it still changing as\n','SELECT\n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',starttime),\'%a %l:%i %p\') as \'Start Time\',  \n    trackname, \n    concat(\'<a href=StaffAssignParticipants.php?selsess=\',S.sessionid,\'>\', S.sessionid,\'</a>\') as Sessionid,\n    concat(\'<a href=EditSession.php?id=\',S.sessionid,\'>\',S.title,\'</a>\') Title\n  FROM\n      Sessions S, \n      Schedule SCH, \n      Tracks T \n  WHERE\n    T.trackid=S.trackid and\n    SCH.sessionid = S.sessionid and\n    trackname not in $removed_tracks\n  ORDER BY\n    T.trackname, \n    SCH.starttime'),(47,'thsessionservices','Session Services','<P>Which Session needs which Services? (Sorted by room then time.)</P>\r\n','','SELECT\r\n    concat(\'<A HREF=\"MaintainRoomSched.php?selroom=\',R.roomid,\'\">\',R.roomname,\'</A>\') AS Room,\r\n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',starttime),\'%a %l:%i %p\') as \'Start Time\', \r\n    CASE\r\n      WHEN HOUR(duration) < 1 THEN\r\n        concat(date_format(duration,\'%i\'),\'min\')\r\n      WHEN MINUTE(duration)=0 THEN\r\n        concat(date_format(duration,\'%k\'),\'hr\')\r\n      ELSE\r\n        concat(date_format(duration,\'%k\'),\'hr \',date_format(duration,\'%i\'),\'min\')\r\n      END AS Duration,\r\n    Trackname, \r\n    concat(\'<A HREF=StaffAssignParticipants.php?selsess=\',X.sessionid,\'>\',X.sessionid,\'</A>\') AS Sessionid,\r\n    concat(\'<a href=EditSession.php?id=\',X.sessionid,\'>\',X.title,\'</a>\') Title,\r\n    X.Servicename \r\n  FROM\r\n      (SELECT\r\n           trackname, \r\n           S.sessionid, \r\n           title,\r\n           duration,\r\n           servicename \r\n        FROM\r\n            Tracks T, \r\n            Sessions S, \r\n            SessionHasService SF, \r\n            Services F \r\n        WHERE\r\n          T.trackid=S.trackid and\r\n          S.sessionid=SF.sessionid and\r\n          F.serviceid=SF.serviceid) X, \r\n      Rooms R, \r\n      Schedule SCH\r\n  WHERE\r\n    X.sessionid=SCH.sessionid and\r\n    SCH.roomid=R.roomid \r\n  ORDER BY\r\n    roomname, \r\n    starttime;'),(48,'conflictnotattending','Conflict Report - not attending people that are on panels.','<P>If the interested field is set to 2, pull them off the panel.  If the interested field is set otherwise, escalate to a div-head.</P>\n','','SELECT\n    P.badgeid, \n    P.pubsname, \n    S.sessionid, \n    concat(\'<a href=StaffAssignParticipants.php?selsess=\',S.sessionid,\'>\', S.sessionid,\'</a>\') as sessionid,\n    P.interested \n  FROM\n      Sessions S, \n      Schedule SCH, \n      Participants P, \n      ParticipantOnSession POS \n  WHERE\n    P.badgeid=POS.badgeid and\n    SCH.sessionid=S.sessionid and\n    SCH.sessionid=POS.sessionid and\n    P.interested!=1\n  ORDER BY\n    P.badgeid'),(49,'progpanelmerge','Full Participant Schedule for the Program Packet Merge','<P>sessionid, room, starttime, duration, (badgeid, pubsname, mod)</P>\r\n','','SELECT\r\n    POS.sessionid, \r\n    roomname, \r\n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',starttime),\'%a %l:%i %p\') starttime, \r\n    CASE\r\n      WHEN HOUR(duration) < 1 THEN\r\n        concat(date_format(duration,\'%i\'),\'min\')\r\n      WHEN MINUTE(duration)=0 THEN\r\n        concat(date_format(duration,\'%k\'),\'hr\')\r\n      ELSE\r\n        concat(date_format(duration,\'%k\'),\'hr \',date_format(duration,\'%i\'),\'min\')\r\n      END AS Duration,\r\n    trackname, \r\n    title, \r\n    group_concat(\' \',P.pubsname, if(moderator=1,\'  (M)\',\'\') order by moderator, pubsname SEPARATOR \'; \') AS panelinfo,\r\n    pubstatusname\r\n  FROM \r\n      Rooms R, \r\n      Sessions S, \r\n      Schedule SCH \r\n    LEFT JOIN ParticipantOnSession POS on SCH.sessionid=POS.sessionid\r\n    LEFT JOIN CongoDump C on C.badgeid=POS.badgeid\r\n    LEFT JOIN Participants P on P.badgeid=POS.badgeid,\r\n      Tracks T,\r\n      PubStatuses PUB\r\n  WHERE\r\n    S.sessionid=SCH.sessionid and\r\n    POS.sessionid=S.sessionid and\r\n    T.trackid=S.trackid and\r\n    SCH.roomid = R.roomid and\r\n    SCH.sessionid = S.sessionid and\r\n    PUB.pubstatusid = S.pubstatusid and\r\n    POS.volunteer=0 and\r\n    POS.introducer=0 and\r\n    POS.aidedecamp=0\r\n  GROUP BY\r\n    POS.sessionid \r\n  ORDER BY\r\n    pubsname'),(50,'conflictnoannvol','Conflict Report - Sessions with no volunteer or announcer','<P>Classes and Panels need a volunteer and announcer.  Others may not.  Think before you jump.</P>\r\n','<P>Click on the session id to edit the session\'s volunteer or announcer.</P>\r\n','SELECT\r\n    typename as \'Type\',\r\n    concat(\'(<A HREF=StaffAssignParticipants.php?selsess=\',S.sessionid,\'>\', S.sessionid,\'</A>) \',\'<A HREF=EditSession.php?id=\',S.sessionid,\'>\',S.title,\'</A>\') as \'Title\', \r\n    concat(DATE_FORMAT(ADDTIME(\'$ConStartDatim\',SCH.starttime),\'%a %l:%i %p\')) as \'StartTime\',\r\n    GROUP_CONCAT(DISTINCT if((POS.volunteer=1),concat(\'<A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',P.badgeid,\'>\',P.pubsname,\'</A>\'),\'\') SEPARATOR \' \') as \'Volunteer\', \r\n    GROUP_CONCAT(DISTINCT if((POS.introducer=1),concat(\'<A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',P.badgeid,\'>\',P.pubsname,\'</A>\'),\'\') SEPARATOR \'\') as \'Introducer\',\r\n    GROUP_CONCAT(DISTINCT if((POS.aidedecamp=1),concat(\'<A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',P.badgeid,\'>\',P.pubsname,\'</A>\'),\'\') SEPARATOR \' - \') as \'Assisting\' \r\n  FROM\r\n      Sessions S \r\n    LEFT JOIN\r\n      ParticipantOnSession POS on S.sessionid=POS.sessionid, \r\n      Types T, \r\n      Participants P,\r\n      Schedule SCH\r\n  WHERE \r\n    S.sessionid=SCH.sessionid and\r\n    T.typeid=S.typeid AND \r\n    P.badgeid=POS.badgeid AND\r\n    S.statusid=3\r\n  GROUP BY\r\n    S.sessionid\r\n  ORDER BY\r\n    typename,\r\n    SCH.starttime,\r\n    S.sessionid'),(51,'congoinfo','Congo Info (all info).','<P>Shows the information retreived from Congo.</P>\r\n','','SELECT\r\n    badgename,\r\n    badgeid,\r\n    regtype,\r\n    lastname,\r\n    firstname,\r\n    phone,\r\n    email,\r\n    postaddress1,\r\n    postaddress2,\r\n    postcity,\r\n    poststate,\r\n    postzip,\r\n    postcountry\r\n  FROM\r\n      CongoDump\r\n  WHERE\r\n    badgeid is not NULL\r\n  ORDER BY\r\n    badgename'),(52,'conflictfewassigned','Conflict Report - Sessions with under 4 people assigned','<P>Not all of these are actually conflict, you want to think about them.</P>\r\n','','SELECT\r\n    trackname,\r\n    concat(\'<A HREF=StaffAssignParticipants.php?selsess=\',S.sessionid,\'>\', S.sessionid,\'</A>\') as Sessionid,\r\n    concat(\'<A HREF=EditSession.php?id=\',S.sessionid,\'>\',S.title,\'</A>\') as Title,\r\n    count(badgeid) assigned\r\n  FROM\r\n          Sessions S\r\n      LEFT JOIN ParticipantOnSession POS on S.sessionid=POS.sessionid,\r\n      Tracks T\r\n  WHERE\r\n    T.trackid=S.trackid and\r\n    S.statusid=3 AND\r\n    POS.volunteer=0 AND\r\n    POS.introducer=0 AND\r\n    POS.aidedecamp=0\r\n  GROUP BY\r\n    sessionid having assigned<4\r\n  ORDER BY\r\n    trackname,\r\n    S.sessionid'),(53,'assignedsessioncounts','Assigned Session by Session (counts)','<P>How many people are assinged to each session? (Sorted by track then sessionid.)</P>\n','','SELECT \n    Trackname, \n    concat(\'<a href=StaffAssignParticipants.php?selsess=\',Sessions.sessionid,\'>\', Sessions.sessionid,\'</a>\') as Sessionid,\n    concat(\'<a href=EditSession.php?id=\',Sessions.sessionid,\'>\',Sessions.title,\'</a>\') Title,\n    Statusname, \n    count(badgeid) as NumAssigned \n  FROM\n      ParticipantOnSession, \n      Sessions, \n      Tracks, \n      SessionStatuses  \n  WHERE\n    ParticipantOnSession.sessionid=Sessions.sessionid and\n    Tracks.trackid=Sessions.trackid and\n    Sessions.statusid=SessionStatuses.statusid\n  GROUP BY\n    sessionid \n  ORDER BY\n    trackname,\n    sessionid'),(54,'assignedmoderator','Assigned Moderator by Session','<P>Shows who has been assigned to moderate each session (sorted by track then sessionid).</P>\r\n','','SELECT\r\n    Trackname,\r\n    concat(\'<A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',P.badgeid,\'>\',P.pubsname,\'</A>\') AS Pubsname, \r\n    P.Badgeid, \r\n    concat(\'<a href=StaffAssignParticipants.php?selsess=\',S.sessionid,\'>\', S.sessionid,\'</a>\') as Sessionid,\r\n    concat(\'<a href=EditSession.php?id=\',S.sessionid,\'>\',title,\'</a>\') as Title,\r\n    Statusname \r\n  FROM\r\n      ParticipantOnSession, \r\n      Sessions S, \r\n      Participants P,\r\n      Tracks, \r\n      SessionStatuses \r\n  WHERE\r\n    ParticipantOnSession.badgeid=P.badgeid and\r\n    ParticipantOnSession.sessionid=S.sessionid and\r\n    Tracks.trackid=S.trackid and\r\n    S.statusid=SessionStatuses.statusid and\r\n    moderator=1 \r\n  ORDER BY\r\n    trackname, \r\n    S.sessionid'),(55,'programcomment','Overall Program Commentary','<P>Comments recorded overall for Programming.  <A HREF=\"CommentOnProgramming.php\">(Add a comment)</A></P>\n','','SELECT\n    COP.commenter,\n    COP.comment\n  FROM\n      CommentsOnProgramming COP'),(56,'palm','CSV -- Report for uploading to PDA\'s','<P>StartTime, Duration, Room, Track, Title, Participants</P>\r\n','','SELECT\r\n            DATE_FORMAT(ADDTIME(\'$ConStartDatim\',starttime),\'%a\') AS Day,\r\n            DATE_FORMAT(ADDTIME(\'$ConStartDatim\',starttime),\'%l:%i %p\') AS \'Start Time\',\r\n            left(duration,5) AS Duration,\r\n	    roomname AS \'Room Name\',\r\n            trackname as Track,\r\n            Title,\r\n            if(group_concat(pubsname) is NULL,\'\',group_concat(pubsname SEPARATOR \', \')) as Participants\r\n    FROM\r\n            Rooms R\r\n       JOIN Schedule SCH USING (roomid)\r\n       JOIN Sessions S USING (sessionid)\r\n  LEFT JOIN Tracks T USING (trackid)\r\n  LEFT JOIN ParticipantOnSession POS ON SCH.sessionid=POS.sessionid\r\n  LEFT JOIN Participants P ON POS.badgeid=P.badgeid\r\n    WHERE\r\n            S.pubstatusid = 2 AND\r\n            POS.volunteer=0 AND\r\n            POS.introducer=0 AND\r\n            POS.aidedecamp=0\r\n    GROUP BY\r\n            SCH.sessionid\r\n    ORDER BY\r\n            SCH.starttime, R.roomname'),(57,'conflictschedsched','Conflict Report - Schedule but not','<P>These are sessions that are either in the grid and not set as scheduled or they are set as scheduled and not in the grid.</P>\n','','SELECT\n    concat(\'<a href=StaffAssignParticipants.php?selsess=\',S.sessionid,\'>\', S.sessionid,\'</a>\') as Sessionid,\n    concat(\'<a href=EditSession.php?id=\',S.sessionid,\'>\',S.title,\'</a>\') Title,\n    if ((SCH.sessionid is NULL),\'no\',\'yes\') in_grid, \n    if(statusid=3,\'yes\',\'no\') status_sched \n  FROM\n      Sessions S \n    LEFT JOIN Schedule SCH on S.sessionid=SCH.sessionid \n  HAVING\n    (in_grid=\'no\' and status_sched=\'yes\') or\n    (in_grid=\'yes\' and status_sched=\'no\')'),(58,'allpartschedbyparttime','Full Participant Schedule by time','<P>The schedule sorted by participant.</P>\r\n','','SELECT \r\n    if ((P.pubsname is NULL), \' \', concat(\' <A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',P.badgeid,\'>\',P.pubsname,\'</A> (\',P.badgeid,\')\')) as \'Participants\', \r\n    if ((moderator=1),\'moderator\', \' \') as Moderator,\r\n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',starttime),\'%a %l:%i %p\') as \'Start Time\', \r\n    CASE\r\n      WHEN HOUR(duration) < 1 THEN\r\n        concat(date_format(duration,\'%i\'),\'min\')\r\n      WHEN MINUTE(duration)=0 THEN\r\n        concat(date_format(duration,\'%k\'),\'hr\')\r\n      ELSE\r\n        concat(date_format(duration,\'%k\'),\'hr \',date_format(duration,\'%i\'),\'min\')\r\n      END AS Duration,\r\n    concat(\'<a href=MaintainRoomSched.php?selroom=\',R.roomid,\'>\', R.roomname,\'</a>\') as Roomname,\r\n    Function, \r\n    Trackname,\r\n    concat(\'<a href=StaffAssignParticipants.php?selsess=\',S.sessionid,\'>\', S.sessionid,\'</a>\') as Sessionid,\r\n    concat(\'<a href=EditSession.php?id=\',S.sessionid,\'>\',S.title,\'</a>\') Title\r\n  FROM \r\n      Sessions S\r\n    JOIN Schedule SCH USING (sessionid)\r\n    JOIN Rooms R USING (roomid)\r\n    LEFT JOIN ParticipantOnSession POS ON SCH.sessionid=POS.sessionid \r\n    LEFT JOIN Participants P ON POS.badgeid=P.badgeid \r\n    LEFT JOIN Tracks T ON T.trackid=S.trackid \r\n  WHERE\r\n    S.typeid not in (10, 12)\r\n  ORDER BY\r\n    cast(P.badgeid as unsigned),\r\n    SCH.starttime'),(59,'thsessionfeature','Session Features','<P>Which Session needs which Features? (Sorted by room then time.)</P>\r\n','','SELECT\r\n    concat(\'<A HREF=\"MaintainRoomSched.php?selroom=\',R.roomid,\'\">\',R.roomname,\'</A>\') AS Room,\r\n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',starttime),\'%a %l:%i %p\') as \'Start Time\', \r\n    CASE\r\n      WHEN HOUR(duration) < 1 THEN\r\n        concat(date_format(duration,\'%i\'),\'min\')\r\n      WHEN MINUTE(duration)=0 THEN\r\n        concat(date_format(duration,\'%k\'),\'hr\')\r\n      ELSE\r\n        concat(date_format(duration,\'%k\'),\'hr \',date_format(duration,\'%i\'),\'min\')\r\n      END AS Duration,\r\n      Trackname, \r\n      concat(\'<A HREF=StaffAssignParticipants.php?selsess=\',X.sessionid,\'>\',X.sessionid,\'</A>\') AS Sessionid,\r\n      concat(\'<a href=EditSession.php?id=\',X.sessionid,\'>\',X.title,\'</a>\') Title,\r\n      X.Featurename \r\n    FROM\r\n        (SELECT\r\n	     duration,\r\n             trackname,\r\n             S.sessionid,\r\n             title,\r\n             featurename \r\n           FROM\r\n               Sessions S, \r\n               SessionHasFeature SF, \r\n               Features F, \r\n               Tracks T \r\n           WHERE\r\n             T.trackid=S.trackid and\r\n             S.sessionid=SF.sessionid and\r\n             F.featureid=SF.featureid) X,\r\n        Rooms R, \r\n        Schedule SCH \r\n  WHERE\r\n    X.sessionid=SCH.sessionid and\r\n    SCH.roomid=R.roomid \r\n  ORDER BY\r\n    roomname, \r\n    starttime'),(60,'kidfasttracksched','FastTrack Schedule (easy troubleshooting)','<P>What is happening in FastTrack.</P>\n','','SELECT\n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',SCH.starttime),\'%a %l:%i %p\') as \'Start Time\',\n    CASE\n      WHEN HOUR(S.duration) < 1 THEN\n        concat(date_format(S.duration,\'%i\'),\'min\')\n      WHEN MINUTE(S.duration)=0 THEN\n        concat(date_format(S.duration,\'%k\'),\'hr\')\n      ELSE\n        concat(date_format(S.duration,\'%k\'),\'hr \',date_format(S.duration,\'%i\'),\'min\')\n      END AS Duration,\n    R.roomname,\n    S.title,\n    group_concat(concat(P.pubsname,\' (\',P.badgeid,\')\') SEPARATOR \', \') as \'Participants\'\n  FROM\n      Schedule SCH\n    JOIN Rooms R USING(roomid)\n    JOIN Sessions S USING(sessionid)\n    JOIN Tracks TR USING(trackid)\n    LEFT JOIN ParticipantOnSession POS USING(sessionid)\n    LEFT JOIN Participants P USING(badgeid)\n  WHERE\n    TR.trackname=\'FAST TRACK\'\n  GROUP BY\n    SCH.scheduleid\n  ORDER BY\n    SCH.starttime'),(61,'participantroles','Participant Roles','<P>What Roles is a participant willing to take?</P>\r\n','','SELECT\r\n    P.badgeid,\r\n    concat(\'<A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',P.badgeid,\'>\',P.pubsname,\'</A>\') AS Pubsname,\r\n    rolename \r\n  FROM\r\n      Participants P,\r\n      ParticipantHasRole PR,\r\n      Roles \r\n  WHERE\r\n    P.badgeid=PR.badgeid and\r\n    PR.roleid=Roles.roleid \r\n  ORDER BY\r\n    cast(P.badgeid as unsigned)'),(62,'finalschedbreifdiff','Schedule - brief diff','<P>Recent changes to the PUBLIC Panel, Events, Film, Anime, Video and Arisia TV schedule.</P>\n','<P>This has a hard-coded \"date\" $change_since_date from which it determines \"recent\".  This should probably be a vector value from today.','SELECT\n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',starttime),\'%a %l:%i %p\') as \'Start Time\', \n    CASE\n      WHEN HOUR(duration) < 1 THEN\n        concat(date_format(duration,\'%i\'),\'min\')\n      WHEN MINUTE(duration)=0 THEN\n        concat(date_format(duration,\'%k\'),\'hr\')\n      ELSE\n        concat(date_format(duration,\'%k\'),\'hr \',date_format(duration,\'%i\'),\'min\')\n      END AS Duration,\n    roomname, \n    trackname, \n    title,\n    S.ts as changed\n  FROM\n      Sessions S, \n      Schedule SCH, \n      Tracks T, \n      Rooms R\n  WHERE\n    R.roomid=SCH.roomid and\n    T.trackid=S.trackid and\n    SCH.sessionid = S.sessionid and\n    S.pubstatusid = 2 and\n    S.ts > $change_since_date\n  ORDER BY S.ts, \n    SCH.starttime,\n    T.trackname'),(63,'allassigned','All Sessions that are assigned','<P>Who is assigned to what.</P>\r\n','','SELECT\r\n    trackname as Trackname, \r\n    concat(\'<a href=StaffAssignParticipants.php?selsess=\',S.sessionid,\'>\', S.sessionid,\'</a>\') as Sessionid,\r\n    concat(\'<a href=EditSession.php?id=\',S.sessionid,\'>\',S.title,\'</a>\') Title,\r\n    CASE\r\n      WHEN HOUR(duration) < 1 THEN\r\n        concat(date_format(duration,\'%i\'),\'min\')\r\n      WHEN MINUTE(duration)=0 THEN\r\n        concat(date_format(duration,\'%k\'),\'hr\')\r\n      ELSE\r\n        concat(date_format(duration,\'%k\'),\'hr \',date_format(duration,\'%i\'),\'min\')\r\n      END AS Duration,\r\n    group_concat(\'<A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',P.badgeid,\'>\',P.pubsname,\'</A> (\',P.badgeid,\')\' SEPARATOR \', \') as \'Participants\',\r\n    GROUP_CONCAT(DISTINCT if((POS.moderator=1),concat(\'<A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',P.badgeid,\'>\',P.pubsname,\'</A>\'),\'\') SEPARATOR \' \') as \'Moderator\', \r\n    GROUP_CONCAT(DISTINCT if((POS.volunteer=1),concat(\'<A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',P.badgeid,\'>\',P.pubsname,\'</A>\'),\'\') SEPARATOR \' \') as \'Volunteer\', \r\n    GROUP_CONCAT(DISTINCT if((POS.introducer=1),concat(\'<A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',P.badgeid,\'>\',P.pubsname,\'</A>\'),\'\') SEPARATOR \' \') as \'Introducer\',\r\n    GROUP_CONCAT(DISTINCT if((POS.aidedecamp=1),concat(\'<A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',P.badgeid,\'>\',P.pubsname,\'</A>\'),\'\') SEPARATOR \' \') as \'Aide\' \r\n  FROM\r\n      Sessions S, \r\n      Participants P, \r\n      ParticipantOnSession POS, \r\n      Tracks \r\n  WHERE\r\n    P.badgeid=POS.badgeid AND\r\n    POS.sessionid=S.sessionid AND\r\n    Tracks.trackid=S.trackid \r\n  GROUP BY\r\n    S.sessionid \r\n  ORDER BY\r\n    Trackname,\r\n    S.sessionid'),(64,'participantnumpanel','Participant Number of Pannels and Constraints','<P>How many panels does each person want to be on and the other constraints they indicated.</P>\r\n','','SELECT\r\n    P.badgeid,\r\n    concat(\'<A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',P.badgeid,\'>\',P.pubsname,\'</A>\') AS Pubsname,\r\n    interested,\r\n    Friday,\r\n    Saturday,\r\n    Sunday,\r\n    Monday,\r\n    maxprog,\r\n    preventconflict,\r\n    otherconstraints\r\n  FROM\r\n      ParticipantAvailability PA, Participants P\r\n    LEFT JOIN (SELECT\r\n	           badgeid,\r\n	           sum(if(day=1,maxprog,0)) as Friday,\r\n                   sum(if(day=2,maxprog,0)) as Saturday,\r\n                   sum(if(day=3,maxprog,0)) as Sunday,\r\n	           sum(if(day=4,maxprog,0)) as Monday\r\n                 FROM\r\n	             ParticipantAvailabilityDays\r\n                 GROUP BY badgeid) PADQ ON P.badgeid = PADQ.badgeid\r\n  WHERE\r\n    P.badgeid=PA.badgeid\r\n  ORDER BY\r\n    cast(P.badgeid as unsigned)'),(65,'conflictroomdup','Conflict Report - Room Schedule Overlaps.','<P>Find any pairs of sessions whose times overlap in the same room.</P>\n','','SELECT\n    concat(\'<a href=MaintainRoomSched.php?selroom=\',R.roomid,\'>\', R.roomname,\'</a>\') as Roomname,\n    SA.title as \'Title A\',\n    Asess as \'Sessionid A\',\n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',Astart),\'%a %l:%i %p\') as \'Start Time A\',\n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',Aend),\'%a %l:%i %p\') as \'End Time A\',\n    SB.title as \'Title B\',\n    Bsess as \'Sessionid B\',\n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',Bstart),\'%a %l:%i %p\') as \'Start Time B\',\n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',Bend),\'%a %l:%i %p\') as \'End Time B\'\n  FROM\n      Sessions SA,\n      Sessions SB,\n      Rooms R,\n      (SELECT\n           A.roomid,\n           A.sessionid as Asess,\n           A.starttime as Astart,\n           ADDTIME(A.starttime, SA.duration) as Aend,\n           B.sessionid as Bsess,\n           B.starttime as Bstart,\n           ADDTIME(B.starttime, SB.duration) as Bend\n         FROM\n             Schedule A,\n             Schedule B,\n             Sessions SA,\n             Sessions SB\n         WHERE\n           A.roomid = B.roomid and\n           A.starttime<=B.starttime and\n           ADDTIME(A.starttime, SA.duration)>B.starttime and\n           A.sessionid<>B.sessionid and\n           A.sessionid=SA.sessionid and\n           B.sessionid=SB.sessionid) as Foo\n  WHERE\n    Foo.roomid = R.roomid and\n    Foo.Asess=SA.sessionid and\n    Foo.Bsess=SB.sessionid'),(66,'participantcomment','Participant Commentary','<P>Comments recorded for Participants. <A HREF=\"CommentOnParticipants.php\">(Add a comment)</A></P>\r\n','','SELECT\r\n    concat(\'<A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',P.badgeid,\'>\',P.pubsname,\'</A>\') AS Pubsname,\r\n    COP.commenter,\r\n    COP.comment\r\n  FROM\r\n      Participants P \r\n    JOIN\r\n      CommentsOnParticipants COP USING (badgeid)\r\n  ORDER BY\r\n    P.pubsname'),(67,'progannvol','Program Announcers and Volunteers Assigned hours','<P>Prefered name, firstname, lastname, email address, count of scheduled sessions.</P>\r\n','','SELECT\r\n    P.badgeid, \r\n    concat(\'<A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',P.badgeid,\'>\',P.pubsname,\'</A>\') AS Pubsname, \r\n    C.firstname, \r\n    C.lastname, \r\n    C.email, \r\n    SCH.sessioncount as \'Total involvement\', \r\n    SCH.volcount as \'Volunteer Sessions\',\r\n    SCH.intcount as \'Introducer Sessions\',\r\n    SCH.aidcount as \'Assisting Sessions\',\r\n    (SCH.sessioncount-SCH.volcount-SCH.intcount-SCH.aidcount) as \'Program Sessions\' \r\n  FROM\r\n      CongoDump as C,\r\n      UserHasPermissionRole as UP,\r\n      Participants as P \r\n    LEFT JOIN\r\n      (SELECT\r\n           POS1.badgeid as badgeid , \r\n           count(SCH1.sessionid) as sessioncount,\r\n           sum(if(volunteer=1,1,0)) as volcount,\r\n           sum(if(introducer=1,1,0)) as intcount,\r\n           sum(if(aidedecamp=1,1,0)) as aidcount\r\n         FROM\r\n             ParticipantOnSession POS1, \r\n             Schedule SCH1, \r\n             Sessions S, \r\n             Tracks T \r\n         WHERE\r\n           POS1.sessionid=SCH1.sessionid and\r\n           SCH1.sessionid=S.sessionid and\r\n           S.trackid=T.trackid \r\n         GROUP BY\r\n           POS1.badgeid) as SCH on P.badgeid=SCH.badgeid \r\n  WHERE \r\n    UP.permroleid=5 and\r\n    C.badgeid=P.badgeid and\r\n    C.badgeid=UP.badgeid\r\n  GROUP BY\r\n    (P.badgeid) \r\n  ORDER BY \r\n    cast(P.badgeid as unsigned)'),(68,'benpalm','Report for Ben and the palm.','<P>StartTime Duration Room Track Title Participants.</P>\n','','SELECT\n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',starttime),\'%a\') as \'Day\',\n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',starttime),\'%l:%i %p\') as \'Start Time\',\n    concat(\'(\',left(duration,5),\')\') Length,\n    Roomname,\n    trackname as Track,\n    Title,\n    if(group_concat(pubsname) is NULL,\'\',group_concat(pubsname SEPARATOR \', \')) as \'Participants\'\n  FROM\n      Rooms R\n    JOIN Schedule SCH USING (roomid)\n    JOIN Sessions S USING (sessionid)\n    LEFT JOIN Tracks T USING (trackid)\n    LEFT JOIN ParticipantOnSession POS ON SCH.sessionid=POS.sessionid\n    LEFT JOIN Participants P ON POS.badgeid=P.badgeid\n  WHERE\n    S.pubstatusid = 2\n  GROUP BY\n    SCH.sessionid\n  ORDER BY\n    SCH.starttime,\n    R.roomname'),(69,'sessionintassncounts','Assigned, Interested and Not-scheduled Report','<P>These are sessions that are in need of a home in the schedule.</P>\n','','SELECT\n    if ((num_int is NULL), 0, num_int) as Intr,\n    if ((num_assigned is NULL), 0, num_assigned) as Assn,\n    concat(\'<a href=StaffAssignParticipants.php?selsess=\',S.sessionid,\'>\', S.sessionid,\'</a>\') as Sessionid, \n    concat(\'<a href=EditSession.php?id=\',S.sessionid,\'>\',title,\'</a>\') Title,\n    trackname, \n    typename\n  FROM\n      Tracks T, \n      Types Y,\n      Divisions D,\n      Sessions S \n    LEFT JOIN Schedule SCH on S.sessionid=SCH.sessionid \n    LEFT JOIN (SELECT\n                   sessionid, \n                   count(badgeid) as num_assigned \n                 FROM\n	             ParticipantOnSession \n                 GROUP BY\n                   sessionid) A on A.sessionid=S.sessionid \n    LEFT JOIN (SELECT\n                   sessionid, count(badgeid) as num_int \n                 FROM\n	             ParticipantSessionInterest\n                 GROUP BY\n                   sessionid) B on B.sessionid=S.sessionid\n    LEFT JOIN Rooms R on R.roomid=SCH.roomid \n  WHERE\n    T.trackid=S.trackid and\n    Y.typeid=S.typeid and\n    D.divisionid=S.divisionid and\n    D.divisionname = \'Programming\' and\n    SCH.sessionid is NULL\n  HAVING\n    Intr>=4\n  ORDER BY\n    Intr DESC,\n    Assn DESC'),(70,'conflictnotreg','Conflict Report - Not Registered','<P>This is a report of participants sorted by number of panels they are on that are actually running, with some registration information.</P>','<P>It is useful for cons that comp program participants based on a minimum number of panels.  In this case, this report helps make sure people get their comps.  Also, participants who have not earned a comp may need some kind of consideration.</P>\r\n','SELECT\r\n    P.badgeid, \r\n    concat(\'<A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',P.badgeid,\'>\',P.pubsname,\'</A>\') AS Pubsname, \r\n    if ((regtype is NULL), \' \', regtype) as \'regtype\', \r\n    if ((assigned is NULL), \'0\', assigned) as \'assigned\'\r\n  FROM\r\n      CongoDump C,\r\n      Participants P \r\n    left join (SELECT\r\n                   POS.badgeid, \r\n                   count(POS.sessionid) as assigned \r\n                 FROM\r\n                     ParticipantOnSession POS,\r\n                     Schedule S\r\n                 WHERE\r\n                   S.sessionid=POS.sessionid \r\n                 GROUP BY\r\n                   badgeid) X on P.badgeid=X.badgeid \r\n  WHERE\r\n    C.badgeid=P.badgeid and\r\n    interested!=2 \r\n  ORDER BY \r\n    regtype, \r\n    cast(assigned as unsigned) desc,\r\n    substring_index(pubsname,\' \',-1)'),(71,'conflictpartatime','Conflict Report - Participants Scheduled Outside Available Times','<P>Show all participant-sessions scheduled outside set of times participant has listed as being available.</P>\r\n','','SELECT \r\n    FOO.badgeid, \r\n    concat(\'<A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',P.badgeid,\'>\',P.pubsname,\'</A>\') AS Pubsname, \r\n    TR.trackname, \r\n    concat(\'<a href=StaffAssignParticipants.php?selsess=\',FOO.sessionid,\'>\', FOO.sessionid,\'</a>\') as Sessionid, \r\n    concat(\'<a href=MaintainRoomSched.php?selroom=\',R.roomid,\'>\', R.roomname,\'</a>\') as Roomname, \r\n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',FOO.starttime),\'%a %l:%i %p\') as \'Start Time\', \r\n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',FOO.endtime),\'%a %l:%i %p\') as \'End Time\', \r\n    FOO.hours as \'Ttl. Hours Avail.\' \r\n  FROM \r\n      (SELECT\r\n           SCHD.badgeid, \r\n           SCHD.trackid, \r\n           SCHD.sessionid, \r\n           SCHD.starttime, \r\n           SCHD.endtime, \r\n           SCHD.roomid, \r\n           PAT.availabilitynum, \r\n           HRS.hours \r\n         FROM\r\n             (SELECT\r\n                  POS.badgeid, \r\n                  SCH.sessionid, \r\n                  SCH.starttime, \r\n	          SCH.roomid, \r\n	          ADDTIME(SCH.starttime,S.duration) as endtime, \r\n	          S.trackid \r\n                FROM\r\n                    Schedule SCH, \r\n                    ParticipantOnSession POS, \r\n	            Sessions S \r\n                WHERE\r\n                  SCH.sessionid = POS.sessionid and\r\n                  SCH.sessionid = S.sessionid) as SCHD \r\n           LEFT JOIN ParticipantAvailabilityTimes PAT on SCHD.badgeid = PAT.badgeid and\r\n             SCHD.starttime>=PAT.starttime and\r\n             SCHD.endtime<=PAT.endtime \r\n           LEFT JOIN (SELECT\r\n                          badgeid,\r\n                          sum(hour(subtime(endtime,starttime))) as hours \r\n                        FROM\r\n                            ParticipantAvailabilityTimes \r\n                        GROUP BY\r\n		          badgeid) as HRS on SCHD.badgeid=HRS.badgeid \r\n                        HAVING\r\n                          PAT.availabilitynum is null) as FOO, \r\n    Tracks TR, \r\n    Participants P, \r\n    Rooms R \r\n  WHERE\r\n    FOO.badgeid = P.badgeid and\r\n    FOO.trackid = TR.trackid and\r\n    FOO.roomid = R.roomid \r\n  HAVING\r\n    FOO.hours is not NULL \r\n  ORDER BY\r\n    cast(FOO.badgeid as unsigned)'),(72,'participantsuggestions','Participant Suggestions','<P>What is did each participant suggest?</P>\n','<P>This form originally had a index of \"DELETEME\" should it be removed?</P>','SELECT\n    P.badgeid,\n    P.pubsname,\n    paneltopics,\n    otherideas,\n    suggestedguests \n  FROM\n      ParticipantSuggestions as PS, \n      Participants as P\n  WHERE\n    P.badgeid=PS.badgeid'),(73,'gameroomshedtime','Gaming Schedule by time then room','<P>Just things in track gaming (gaming and gaming panels).</P>\n','','SELECT\n    roomname,\n    function,\n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',starttime),\'%a %l:%i %p\') as \'Start Time\',\n    CASE\n      WHEN HOUR(duration) < 1 THEN\n        concat(date_format(duration,\'%i\'),\'min\')\n      WHEN MINUTE(duration)=0 THEN\n        concat(date_format(duration,\'%k\'),\'hr\')\n      ELSE\n        concat(date_format(duration,\'%k\'),\'hr \',date_format(duration,\'%i\'),\'min\')\n      END AS Duration,\n    trackname,\n    S.sessionid,\n    title,\n    group_concat(\' \', pubsname,\' (\',P.badgeid,\')\') as \'Participants\'\n  FROM\n      Schedule SCH\n    JOIN Sessions S USING (sessionid)\n    JOIN Rooms R USING (roomid)\n    JOIN Tracks USING (trackid)\n    LEFT JOIN ParticipantOnSession POS ON SCH.sessionid=POS.sessionid\n    LEFT JOIN Participants P ON POS.badgeid=P.badgeid\n  WHERE\n    trackname in (\'Gaming\')\n  GROUP BY\n    SCH.scheduleid\n  ORDER BY\n    SCH.starttime,\n    R.roomname'),(74,'conflictmanyassigned','Conflict Report - Sessions with over 5 people assigned.','<P>Not all of these are actually conflict, you want to think about them.</P>\r\n','','SELECT\r\n    Trackname,\r\n    concat(\'<a href=StaffAssignParticipants.php?selsess=\',S.sessionid,\'>\', S.sessionid,\'</a>\') as Sessionid,\r\n    concat(\'<A HREF=EditSession.php?id=\',S.sessionid,\'>\',S.title,\'</A>\') AS Title,\r\n    count(badgeid) as Assigned\r\n  FROM\r\n      Sessions S \r\n    LEFT JOIN ParticipantOnSession POS on S.sessionid=POS.sessionid,\r\n      Tracks T \r\n  WHERE\r\n    T.trackid=S.trackid and\r\n    S.statusid=3\r\n  GROUP BY\r\n    sessionid HAVING Assigned>5\r\n  ORDER BY\r\n    trackname,\r\n    S.sessionid'),(75,'conflictunknownregtype','Conflict Report - Unknown RegTypes','<P>Congo RegTypes that Zambia does not recognize.</P>\n','','SELECT\n    distinct(C.regtype)\n  FROM\n      CongoDump C \n    LEFT JOIN RegTypes R on C.regtype=R.regtype\n  WHERE\n    R.regtype is NULL and\n    C.regtype is not NULL\n  ORDER BY\n    C.Regtype'),(76,'pubsbio','Pubs - Participant Bio and pubname','<P>Show the badgeid, pubsname and bio for each participant who is on at least one scheduled session.</P>\r\n','','SELECT\r\n    P.badgeid,\r\n    CD.lastname,\r\n    CD.firstname,\r\n    CD.badgename,\r\n    P.pubsname,\r\n    P.progeditedbio\r\n  FROM\r\n      Participants P\r\n    JOIN CongoDump CD USING (badgeid)\r\n    JOIN (SELECT\r\n	      DISTINCT(badgeid)\r\n            FROM\r\n	        ParticipantOnSession POS,\r\n                Schedule SCH\r\n            WHERE\r\n	      POS.sessionid=SCH.sessionid AND\r\n              POS.volunteer=0 AND\r\n              POS.introducer=0 AND\r\n              POS.aidedecamp=0) as X using (badgeid)\r\n  ORDER BY\r\n    IF(instr(P.pubsname,CD.lastname)>0,CD.lastname,substring_index(P.pubsname,\' \',-1)),\r\n    CD.firstname'),(77,'thsessiontechnotes','Session Tech and Hotel notes','<P>What notes are in on this panel for tech and hotel? (Sorted by room then time.)</P>\r\n','','SELECT\r\n    concat(\'<A HREF=\"MaintainRoomSched.php?selroom=\',R.roomid,\'\">\',R.roomname,\'</A>\') AS Room,\r\n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',starttime),\'%a %l:%i %p\') as \'Start&nbsp;Time\', \r\n    CASE\r\n      WHEN HOUR(duration) < 1 THEN\r\n        concat(date_format(duration,\'%i\'),\'min\')\r\n      WHEN MINUTE(duration)=0 THEN\r\n        concat(date_format(duration,\'%k\'),\'hr\')\r\n      ELSE\r\n        concat(date_format(duration,\'%k\'),\'hr \',date_format(duration,\'%i\'),\'min\')\r\n      END AS Duration,\r\n    Trackname, \r\n    concat(\'<A HREF=StaffAssignParticipants.php?selsess=\',S.sessionid,\'>\',S.sessionid,\'</A>\') AS Sessionid,\r\n    concat(\'<a href=EditSession.php?id=\',S.sessionid,\'>\',S.title,\'</a>\') Title,\r\n    Servicenotes \r\n  FROM\r\n      Tracks T, \r\n      Sessions S, \r\n      Rooms R, \r\n      Schedule SCH \r\n  WHERE\r\n    T.trackid=S.trackid and\r\n    S.sessionid=SCH.sessionid and\r\n    SCH.roomid=R.roomid and\r\n    S.servicenotes!=\' \' \r\n  ORDER BY\r\n    Roomname, \r\n    Starttime'),(78,'name','Name Report','<P>Maps badgeid, pubsname, badgename and first and last name together (includes every record in the database regardless of status).</P>\r\n','','SELECT\r\n    C.badgeid,\r\n    concat(\'<A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',P.badgeid,\'>\',P.pubsname,\'</A>\') AS Pubsname,\r\n    C.badgename,\r\n    C.lastname,\r\n    C.firstname \r\n  FROM\r\n      CongoDump C,\r\n      Participants P \r\n  WHERE\r\n    C.badgeid=P.badgeid and \r\n    P.badgeid is not NULL \r\n  ORDER BY\r\n    IF(instr(P.pubsname,C.lastname)>0,C.lastname,substring_index(P.pubsname,\' \',-1)),\r\n    C.firstname'),(79,'thsessionroomsets','Session roomsets','<P>What roomsets are we using (Sorted by Room then Time.)</P>\r\n','','SELECT\r\n    concat(\'<A HREF=\"MaintainRoomSched.php?selroom=\',R.roomid,\'\">\',R.roomname,\'</A>\') AS Room,\r\n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',starttime),\'%a %l:%i %p\') as \'Start Time\', \r\n    CASE\r\n      WHEN HOUR(duration) < 1 THEN\r\n        concat(date_format(duration,\'%i\'),\'min\')\r\n      WHEN MINUTE(duration)=0 THEN\r\n        concat(date_format(duration,\'%k\'),\'hr\')\r\n      ELSE\r\n        concat(date_format(duration,\'%k\'),\'hr \',date_format(duration,\'%i\'),\'min\')\r\n      END AS Duration,\r\n    Trackname, \r\n    concat(\'<A HREF=StaffAssignParticipants.php?selsess=\',S.sessionid,\'>\',S.sessionid,\'</A>\') AS Sessionid,\r\n    concat(\'<a href=EditSession.php?id=\',S.sessionid,\'>\',S.title,\'</a>\') Title,\r\n    Roomsetname \r\n  FROM\r\n      RoomSets RS, \r\n      Tracks T, \r\n      Sessions S, \r\n      Rooms R, \r\n      Schedule SCH \r\n  WHERE\r\n    T.trackid=S.trackid and\r\n    S.sessionid=SCH.sessionid and\r\n    SCH.roomid=R.roomid and\r\n    RS.roomsetid=S.roomsetid \r\n  ORDER BY\r\n    roomname, \r\n    starttime'),(80,'kidcount','Participant Kid Count','<P>How many kids did the participants say they are bringing for Fast Track?</P>\r\n','','SELECT\r\n    P.Badgeid, \r\n    concat(\'<A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',P.badgeid,\'>\',P.pubsname,\'</A>\') AS Pubsname, \r\n    Numkidsfasttrack  \r\n  FROM\r\n      Participants P, \r\n      ParticipantAvailability PA \r\n  WHERE\r\n      P.badgeid=PA.badgeid\r\n  ORDER BY\r\n      Numkidsfasttrack DESC'),(81,'staffmembers','Staff Members','<P>List Staff Members and their privileges.</P>\r\n','','SELECT\r\n      badgeid as Badgeid,\r\n      if(P.pubsname is null or P.pubsname = \'\',concat(firstname,\' \',lastname), concat(\'<A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',P.badgeid,\'>\',P.pubsname,\'</A>\')) as Name,\r\n      if (password=\'4cb9c8a8048fd02294477fcb1a41191a\',\'changme\',\'OK\') as Password,\r\n      group_concat(permrolename SEPARATOR \', \') as Privileges\r\n    FROM\r\n        Participants P\r\n            JOIN CongoDump using (badgeid)\r\n            JOIN UserHasPermissionRole using (badgeid)\r\n            JOIN PermissionRoles using (permroleid)\r\n    WHERE badgeid in \r\n          (SELECT DISTINCT badgeid FROM UserHasPermissionRole where permroleid=2)\r\n    GROUP BY badgeid, name, password'),(82,'namechanges','Name Report - Changes','<P>Do these folks want to update thier badgenames?   The pubsname and badgename don\'t match.   Report shows badgeid, pubsname, badgename, firstname and lastname.</P>\r\n','','SELECT\r\n    C.badgeid,\r\n    concat(\'<A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',P.badgeid,\'>\',P.pubsname,\'</A>\') AS Pubsname,\r\n    C.badgename,\r\n    C.lastname,\r\n    C.firstname \r\n  FROM\r\n      CongoDump C,\r\n      Participants P \r\n  WHERE\r\n    C.badgeid=P.badgeid AND\r\n    P.badgeid is not NULL AND\r\n    P.pubsname!=C.badgename OR\r\n    P.pubsname IS NULL OR\r\n    C.badgename IS NULL OR\r\n    P.pubsname=\'\' OR\r\n    C.badgename=\'\'\r\n  ORDER BY\r\n    P.pubsname and\r\n    strcmp(C.badgename, P.pubsname) and\r\n    C.badgename=P.pubsname,\r\n    P.pubsname'),(83,'conflictnotinter','Conflict Report - people on panels they are not interested in','<P>These need to be fixed, so presenters are not on panels they don\'t want to be on.</P>','<P>This can happen two ways: Either someone used the feature at the bottom of the assign page to do this deliberately or the participant removed his or her interest after being assigned.</P>\r\n','SELECT\r\n    POS.Badgeid, \r\n    P.Pubsname, \r\n    concat(\'<a href=StaffAssignParticipants.php?selsess=\',POS.sessionid,\'>\', POS.sessionid,\'</a>\') as Sessionid,\r\n    concat(\'<a href=EditSession.php?id=\',S.sessionid,\'>\',S.title,\'</a>\') Title\r\n  FROM\r\n      Sessions S,\r\n      Participants P, \r\n      ParticipantOnSession POS\r\n    left join ParticipantSessionInterest PSI ON POS.badgeid=PSI.badgeid and POS.sessionid=PSI.sessionid \r\n  WHERE\r\n    P.badgeid=POS.badgeid and\r\n    POS.sessionid = S.sessionid and\r\n    PSI.sessionid is NULL'),(84,'attending','Attending Query (all info)','<P>Shows who has responded and if they are attending.  (Interested, 1=yes, 2=no, 3=invited, 4=suggested, 0=did not pick, blank=did not hit save.)</P>\r\n','','SELECT\r\n    concat(\'<A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',P.badgeid,\'>\',P.pubsname,\'</A>\') AS Pubsname,\r\n    P.badgeid,\r\n    P.interested,\r\n    P.bestway \r\n  FROM\r\n      Participants P \r\n  ORDER BY\r\n    P.pubsname'),(85,'progthankyounote','Program Participant Thank you note query','<P>prefered name, firstname, lastname, mailing address, count of scheduled sessions (for only some tracks!)</P>\r\n','\r\n','SELECT\r\n    P.badgeid, \r\n    concat(\'<A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',P.badgeid,\'>\',P.pubsname,\'</A>\') AS Pubsname, \r\n    C.firstname, \r\n    C.lastname, \r\n    C.email, \r\n    SCH.sessioncount as Total_involvement, \r\n    SCH.volcount as Volunteer_Sessions,\r\n    SCH.intcount as Introducer_Sessions,\r\n    SCH.aidcount as Aide_Sessions,\r\n    (SCH.sessioncount-SCH.volcount-SCH.intcount-SCH.aidcount) as Program_Sessions\r\n  FROM\r\n      CongoDump as C, \r\n      Participants as P \r\n    LEFT JOIN (SELECT\r\n                   POS1.badgeid as badgeid , \r\n                   count(SCH1.sessionid) as sessioncount,\r\n                   sum(if(volunteer=1,1,0)) as volcount,\r\n                   sum(if(introducer=1,1,0)) as intcount,\r\n                   sum(if(aidedecamp=1,1,0)) as aidcount\r\n                 FROM\r\n                     ParticipantOnSession POS1, \r\n                     Schedule SCH1, \r\n                     Sessions S, \r\n                     Tracks T \r\n               WHERE POS1.sessionid=SCH1.sessionid and\r\n                     SCH1.sessionid=S.sessionid and\r\n                     S.trackid=T.trackid\r\n               GROUP BY\r\n                     POS1.badgeid) as SCH on P.badgeid=SCH.badgeid \r\n  WHERE\r\n    SCH.sessioncount is not NULL and\r\n    C.badgeid=P.badgeid \r\n  GROUP BY\r\n    (P.badgeid) \r\n  ORDER BY\r\n    cast(P.badgeid as unsigned)'),(86,'partpicky','Participants With People to Avoid','<P>Show the badgeid, pubsname and list of people to avoid for each participant who indicated he is attending and listed people with whom he does not want to share a panel.</P>\r\n','','SELECT\r\n    PI.badgeid,\r\n    concat(\'<A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',P.badgeid,\'>\',P.pubsname,\'</A>\') AS Pubsname,\r\n    PI.nopeople\r\n  FROM\r\n      ParticipantInterests PI\r\n    JOIN Participants P USING (badgeid)\r\n  WHERE\r\n    P.interested=1 and\r\n    (nopeople is not null and nopeople!=\'\')\r\n  ORDER BY\r\n    substring_index(pubsname,\' \',-1)'),(87,'pubswhoisonwhich','Pubs - Who is on Which Session','<P>Show the badgeid, pubsname and session info for each participant that are on at least one scheduled session.</P>\r\n','\r\n','SELECT\r\n    P.badgeid, \r\n    P.pubsname, \r\n    s as Sessions \r\n  FROM\r\n      (SELECT \r\n           distinct(badgeid), \r\n           group_concat(\' \',POS.sessionid, if (moderator=1,\' (m)\',\'\')) as s\r\n         FROM\r\n             ParticipantOnSession POS, \r\n             Schedule SCH \r\n         WHERE\r\n             POS.sessionid=SCH.sessionid \r\n         GROUP BY\r\n             badgeid) as X, \r\n      Participants P\r\n  WHERE\r\n    P.badgeid=X.badgeid'),(88,'notesbypresenter','Presenter Notes by Presenter','<P>Shows all the notes, on all the presenters, sorted by Presenter\'s pubsname.</P>','<P>Click on the Subject\'s name to add a note for that individual or go to the <A HREF=NoteOnParticipant.php>add a note</A> interface.','SELECT\r\n    PR.pubsname as Author,\r\n    concat(\'<A HREF=NoteOnParticipant.php?partid=\',PB.badgeid,\'>\',PB.pubsname,\'</A>\') as Subject,\r\n    N.timestamp as \'When\',\r\n    N.note as Note\r\n  FROM\r\n      NotesOnParticipants N,\r\n      Participants PR,\r\n      Participants PB\r\n  WHERE\r\n    N.rbadgeid=PR.badgeid AND\r\n    N.badgeid=PB.badgeid\r\n  ORDER BY\r\n    Subject'),(89,'notesbyauthor','Presenter Notes by Author','<P>Shows all the notes, on all the presenters, sorted by the Author\'s pubsname.</P>','<P>Click on the Subject\'s name to add a note for that individual or go to the <A HREF=NoteOnParticipant.php>add a note</A> interface.','SELECT\r\n    PR.pubsname as Author,\r\n    concat(\'<A HREF=NoteOnParticipant.php?partid=\',PB.badgeid,\'>\',PB.pubsname,\'</A>\') as Subject,\r\n    N.timestamp as \'When\',\r\n    N.note as Note\r\n  FROM\r\n      NotesOnParticipants N,\r\n      Participants PR,\r\n      Participants PB\r\n  WHERE\r\n    N.rbadgeid=PR.badgeid AND\r\n    N.badgeid=PB.badgeid\r\n  ORDER BY\r\n    Author'),(90,'notesbytime','Presenter Notes by Timestamp','<P>Shows all the notes, on all the presenters, reverse sorted by the timestamp.</P>','<P>Click on the Subject\'s name to add a note for that individual or go to the <A HREF=NoteOnParticipant.php>add a note</A> interface.','SELECT\r\n    PR.pubsname as Author,\r\n    concat(\'<A HREF=NoteOnParticipant.php?partid=\',PB.badgeid,\'>\',PB.pubsname,\'</A>\') as Subject,\r\n    N.timestamp as \'When\',\r\n    N.note as Note\r\n  FROM\r\n      NotesOnParticipants N,\r\n      Participants PR,\r\n      Participants PB\r\n  WHERE\r\n    N.rbadgeid=PR.badgeid AND\r\n    N.badgeid=PB.badgeid\r\n  ORDER BY\r\n    Timestamp DESC'),(91,'ViewAllSessions','View All Sessions','<P>Shows all sessions, regardless of their status.</P>','','SELECT\r\n    concat(\'<A HREF=StaffAssignParticipants.php?selsess=\',sessionid,\'>\',sessionid,\'</A>\') AS \'Sess.<BR>ID\',\r\n    trackname AS Track,\r\n    concat(\'<A HREF=EditSession.php?id=\',sessionid,\'>\',title,\'</A>\') AS Title,\r\n    CASE\r\n      WHEN HOUR(duration) < 1 THEN\r\n        concat(date_format(duration,\'%i\'),\'min\')\r\n      WHEN MINUTE(duration)=0 THEN\r\n        concat(date_format(duration,\'%k\'),\'hr\')\r\n      ELSE\r\n        concat(date_format(duration,\'%k\'),\'hr \',date_format(duration,\'%i\'),\'min\')\r\n      END AS Duration,\r\n    estatten AS \'Est.<BR>Atten.\',\r\n    statusname AS Status\r\n  FROM\r\n      Sessions\r\n    JOIN Tracks USING (trackid)\r\n    JOIN SessionStatuses USING (statusid)\r\n  WHERE\r\n    statusname != \'Dropped\'\r\n  ORDER BY\r\n    trackname,\r\n    statusname'),(92,'conflictpartprogbio','Conflict Report - Participant Program Book Bio Different From Edited Version','<P>Show the badgeid, pubsname and conflicting/missing program bio entries for each participant who indicated he is attending.</P>','<P>Click on the Pubsname to take you to their entry, and click on either of the bio verbiage to edit the bios.</P><P> Add back:\r\n and\r\n    progbio!=progeditedbio\r\n</P>','SELECT\r\n    badgeid, \r\n    concat(\'<A HREF=StaffEditCreateParticipant.php?action=edit&partid=\',badgeid,\'>\',pubsname,\'</A>\') AS Pubsname, \r\n    concat(\'<A HREF=StaffEditBios.php?badgeid=\',badgeid,\'>\',progbio,\'</A>\') AS \'Original Program Bio\',\r\n    concat(\'<A HREF=StaffEditBios.php?badgeid=\',badgeid,\'>\',progeditedbio,\'</A>\') AS \'Program Bio\'\r\n  FROM\r\n      Participants\r\n  WHERE\r\n    interested=1 AND\r\n    progeditedbio IS NULL OR\r\n    progeditedbio=\'\' OR\r\n    progeditedbio!=progbio OR\r\n    (progbio IS NULL AND\r\n       progeditedbio IS NOT NULL)\r\n  ORDER BY\r\n    substring_index(pubsname,\" \",-1)'),(93,'conflictsessdesc','Conflict Report - Missing Web or Program Book Description','<P>These are Sessions that are missing the description either for the Web or for the Program Book.</P>','<P>Please, click on the Title, and fill in the missing information.</P>','SELECT\r\n    concat(\'<A HREF=StaffAssignParticipants.php?selsess=\',sessionid,\'>\', sessionid,\'</A>\') AS Sessionid,\r\n    concat(\'<A HREF=EditSession.php?id=\',sessionid,\'>\',title,\'</A>\') AS Title, \r\n    progguiddesc AS \'Long Description\',\r\n    pocketprogtext AS \'Short Description\'\r\n  FROM\r\n      Sessions\r\n  WHERE\r\n    progguiddesc IS NULL OR\r\n    progguiddesc=\"\" OR\r\n    pocketprogtext IS NULL OR\r\n    pocketprogtext=\"\"'),(94,'personalflow','Personal Flow Reports','<P>Here is a list of all the reports, that you have added to your personal flow, that are available to be generated during this phase.</P>','<P><A HREF=EditPersonalFlows.php>Change</A> the ordering of this page.</P>','SELECT\r\n    DISTINCT concat(\"<A HREF=genreport.php?reportid=\",reportid,\">\",reporttitle,\"</A> (<A HREF=genreport.php?reportid=\",reportid,\"&csv=y>csv</A>)\") AS Title,\r\n    reportdescription AS Description\r\n  FROM\r\n      PersonalFlow\r\n      JOIN Reports USING (reportid)\r\n      LEFT JOIN Phases USING (phaseid)\r\n  WHERE\r\n    badgeid=$_SESSION[\'badgeid\'] AND\r\n    phaseid is null OR\r\n    current = TRUE\r\n  ORDER BY\r\n    pfloworder'),(95,'volunteerlist','Volunteer List','<P>List of Volunteer names, availability number, start and end times, email address, conflicts, and other notes.</P>','<P></P>','SELECT\r\n    concat(\"<A HREF=mailto:\",CD.email,\">\",P.pubsname,\"</A>\") as Email,\r\n    GROUP_CONCAT(DATE_FORMAT(ADDTIME(\"$ConStartDatim\",PAT.starttime),\'%a&nbsp;%l:%i&nbsp;%p\'),\"&nbsp;to \",DATE_FORMAT(ADDTIME(\"$ConStartDatim\",PAT.endtime),\'%a&nbsp;%l:%i&nbsp;%p\') SEPARATOR \"<hr>\") AS \"Available Times\",\r\n    PA.preventconflict AS \"Prevent Conflict\",\r\n    PA.otherconstraints	 AS \"Other Constraints\"\r\n  FROM\r\n      ParticipantAvailabilityTimes PAT\r\n    LEFT JOIN Participants P USING (badgeid)\r\n    JOIN ParticipantAvailability PA USING (badgeid)\r\n    JOIN UserHasPermissionRole U USING (badgeid)\r\n    JOIN CongoDump CD USING (badgeid)\r\n  WHERE \r\n    U.permroleid=\"5\" \r\n  GROUP BY\r\n    P.badgeid\r\n  ORDER BY\r\n    P.badgeid'),(96,'pubsbionclass','Pubs - Participant Pubsname, Bio and Classes','<P>The pubsname, bio and what classes they are on.</P>','','SELECT\r\n    P.pubsname,\r\n    P.progeditedbio,\r\n    GROUP_CONCAT(S.title)\r\n  FROM\r\n      Participants P\r\n    JOIN (SELECT\r\n	      DISTINCT(badgeid),\r\n              POS.sessionid\r\n            FROM\r\n	        ParticipantOnSession POS,\r\n                Schedule SCH\r\n            WHERE\r\n	      POS.sessionid=SCH.sessionid AND\r\n              POS.volunteer=0 AND\r\n              POS.introducer=0 AND\r\n              POS.aidedecamp=0) as X using (badgeid),\r\n     Sessions S\r\n  WHERE\r\n   X.sessionid = S.sessionid AND\r\n   S.typeid != 9\r\n  GROUP BY\r\n     P.pubsname\r\n  ORDER BY\r\n    P.pubsname'),(97,'VolStillClockedIn','Volunteers Still Clocked In','<p>Displays the Volunteers currently logged in.</p>','','SELECT CD.badgeid AS \'Badge ID\', CD.badgename AS \'Badge Name\', CD.firstname AS \'First name\', CD.lastname AS \'Last name\',DATE_FORMAT(ADDTIME(\'$ConStartDatim\',TC.voltimein), \'%a %l:%i %p\') AS \'Time In\'\r\nFROM CongoDump CD, TimeCard TC\r\nWHERE CD.badgeid = TC.badgeid AND TC.voltimeout IS NULL'),(98,'tasklistdisplay','Display Task List','<P>Display the Task List.</P>','<P><A HREF=\"TaskListUpdate.php?activityid=-1\">New</A> Task. (To update, click on the task name.)</P>','SELECT\r\n    CONCAT(\"<A HREF=TaskListUpdate.php?activityid=\",activityid,\">\",activity,\"</A>\") as Tasks,\r\n    activitynotes as Notes,\r\n    pubsname as \"Assigned\",\r\n    activitystart as \"Start Time\",\r\n    targettime as \"Due Date\",\r\n    donestate \"Complete?\",\r\n    donetime \"Finshed On\"\r\n  FROM\r\n      TaskList\r\n    JOIN Participants USING (badgeid)'),(99,'surveyquestions','Survey Questions','<P>List of questions for Survey</P>','','SELECT\r\n   questiontext\r\n  FROM\r\n      QuestionsForSurvey\r\n  ORDER BY\r\n    display_order'),(100,'combinedroomset','Combined Roomset','<P>Features, Services and Notes for the Room Set.</P>','','SELECT\r\n    concat(\'<A HREF=\"MaintainRoomSched.php?selroom=\',R.roomid,\'\">\',R.roomname,\'</A>\') AS Room,\r\n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',starttime),\'%a&nbsp;%l:%i&nbsp;%p\') as \'Start Time\', \r\n    concat(\'<A HREF=StaffAssignParticipants.php?selsess=\',SCH.sessionid,\'>\',SCH.sessionid,\'</A>\') AS Sessionid,\r\n    concat(\'<a href=EditSession.php?id=\',SCH.sessionid,\'>\',S.title,\'</a>\') Title,\r\n    if((X.servicelist!=\'\'),X.servicelist,\'\') as \'Services\',\r\n    if((Y.featurelist!=\'\'),Y.featurelist,\'\') as \'Features\',\r\n    if((servicenotes!=\'\'),servicenotes,\'\') as \'Hotel and Tech Notes\'\r\n  FROM\r\n       Schedule SCH\r\n      JOIN Sessions S USING (sessionid)\r\n     JOIN Rooms R USING (roomid)\r\n      LEFT JOIN  (SELECT\r\n           S.sessionid, \r\n           GROUP_CONCAT(DISTINCT servicename SEPARATOR \', \') as \'servicelist\' \r\n        FROM\r\n            Sessions S, \r\n            SessionHasService SS, \r\n            Services SE\r\n        WHERE\r\n          S.sessionid=SS.sessionid and\r\n          SE.serviceid=SS.serviceid\r\n        GROUP BY\r\n           S.sessionid) X USING (sessionid)\r\n        LEFT JOIN (SELECT\r\n           S.sessionid, \r\n           GROUP_CONCAT(DISTINCT featurename SEPARATOR \', \') as \'featurelist\'\r\n        FROM\r\n            Sessions S, \r\n            SessionHasFeature SF, \r\n            Features F\r\n        WHERE\r\n          S.sessionid=SF.sessionid and\r\n          F.featureid=SF.featureid\r\n        GROUP BY\r\n          S.sessionid) Y USING (sessionid)\r\n  ORDER BY\r\n   roomname,\r\n   starttime'),(101,'doorsandfloors','Doors and Floors','No Description Yet','','SELECT\r\n    roomname,\r\n    title,\r\n    concat(DATE_FORMAT(ADDTIME(\'2011-02-11 00:00:00\',starttime), \"%a %l:%i %p\"),\r\n      \" - \",\r\n      DATE_FORMAT(ADDTIME(ADDTIME(\'2011-02-11 00:00:00\',starttime),duration), \"%a %l:%i %p\"))\r\n      AS \"From - To\",\r\n    floor\r\n  FROM\r\n      Rooms\r\n    JOIN Schedule USING (roomid)\r\n    JOIN Sessions USING (sessionid)\r\n  WHERE\r\n    pubstatusid=2 AND\r\n    floor > 0\r\n  ORDER BY\r\n    starttime,\r\n    floor,\r\n    roomname'),(102,'complexdoorsandfloors','Complex Doors and Floors','This is a more complex version of the normal Doors and Floors report.','','SELECT\r\n    DISTINCT Floor,\r\n      CASE\r\n        WHEN ADDTIME(\'$ConStartDatim\',\'33:00:00\') BETWEEN ADDTIME(\'$ConStartDatim\',starttime) and ADDTIME(ADDTIME(\'$ConStartDatim\',starttime),duration) THEN\r\n          DATE_FORMAT(ADDTIME(\'$ConStartDatim\',\'33:00:00\'), \'%a %l:%i %p\') \r\n        WHEN ADDTIME(\'$ConStartDatim\',\'34:00:00\') BETWEEN ADDTIME(\'$ConStartDatim\',starttime) and ADDTIME(ADDTIME(\'$ConStartDatim\',starttime),duration) THEN\r\n          DATE_FORMAT(ADDTIME(\'$ConStartDatim\',\'34:00:00\'), \'%a %l:%i %p\')\r\n        WHEN ADDTIME(\'$ConStartDatim\',\'35:00:00\') BETWEEN ADDTIME(\'$ConStartDatim\',starttime) and ADDTIME(ADDTIME(\'$ConStartDatim\',starttime),duration) THEN\r\n          DATE_FORMAT(ADDTIME(\'$ConStartDatim\',\'35:00:00\'), \'%a %l:%i %p\')\r\n        END AS \"Hour\",\r\n    GROUP_CONCAT(title, \' in \', roomname, \'(\', DATE_FORMAT(ADDTIME(\'$ConStartDatim\',starttime), \"%l:%i\"), \' - \', DATE_FORMAT(ADDTIME(ADDTIME(\'$ConStartDatim\',starttime),duration), \"%l:%i\"), \')\' SEPARATOR \'\\n\') AS \"Class Information\"\r\n  FROM\r\n      Rooms\r\n    JOIN Schedule USING (roomid)\r\n    JOIN Sessions USING (sessionid)\r\n  WHERE\r\n    pubstatusid=2 AND\r\n    floor > 0\r\n  GROUP BY 2, floor\r\n  ORDER BY\r\n    Hour,\r\n    floor'),(103,'Time Card Table Dump','Time Card Table Dump','<P>Reports Badge ID, First, Last and badge Name, Clocked in time, Clocked out time, hours worked per entry and email address.</P>','<P>Note: This is only for hours worked as: Point Person, Introducer, Programming Volunteer, On-site Logistic and Green Room Staffing</P>','SELECT\r\n    TC.voltimecheckinkey AS \'Record Number\',\r\n    TC.badgeid AS \'Badge ID\',\r\n    CD.badgename AS \'Badge Name\',\r\n    CD.firstname AS \'First Name\',\r\n    CD.lastname as \'Last Name\',\r\n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',TC.voltimein),\'%a %l:%i %p\') AS \'Time In\',\r\n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',TC.voltimeout),\'%a %l:%i %p\') AS \'Time Out\',\r\n    TIME_FORMAT(SUBTIME(TC.voltimeout,TC.voltimein), \'%k:%i\') AS \'Hours Worked\',\r\n    concat(\"<A HREF=mailto:\",CD.email,\">\",CD.email,\"</A>\") as Email\r\n  FROM\r\n       TimeCard TC,\r\n       CongoDump CD\r\n  WHERE\r\n    CD.badgeid = TC.badgeid\r\n  ORDER BY\r\n    CD.badgename,\r\n    voltimein'),(104,'voltimepanelists','Voltime For Panelists','<P>Report for Volunteer time of the people on panels.</P>','','SELECT\r\n    C.badgeid as \'Badge ID\',\r\n    pubsname AS \'Badge Name\',\r\n    firstname AS \'First Name\',\r\n    lastname AS \'Last Name\',\r\n    DATE_FORMAT(ADDTIME(\'$ConStartDatim\',starttime),\'%a %l:%i %p\') AS \'Time In\', \r\n    DATE_FORMAT(ADDTIME(ADDTIME(\'$ConStartDatim\',starttime),duration),\'%a %l:%i %p\') AS \'Time Out\', \r\n    TIME_FORMAT(duration, \"%k:%i\") AS \'Hours Worked\',\r\n    concat(\'<A HREF=mailto:\',email,\'>\',email,\'</A>\') AS Email,\r\n    title as Title\r\n  FROM \r\n      Sessions S, \r\n      Schedule SCH \r\n    LEFT JOIN ParticipantOnSession POS on SCH.sessionid=POS.sessionid\r\n    LEFT JOIN CongoDump C on C.badgeid=POS.badgeid\r\n    LEFT JOIN Participants P on P.badgeid=POS.badgeid\r\n  WHERE\r\n    S.sessionid=SCH.sessionid and\r\n    POS.sessionid=S.sessionid and\r\n    POS.volunteer=0 and\r\n    POS.introducer=0 and\r\n    POS.aidedecamp=0 and \r\n    S.typeid=1\r\n  ORDER BY\r\n    pubsname,\r\n    starttime'),(105,'sumvoltimeforpanelists','Sum of Voltime For Panelists','<P>Report for Volunteer time of the people on panels</P>','<P>See also <A HREF=genreport.php?reportid=104>Voltime For Panelists</A></P>','SELECT\r\n    badgeid as \'Badge ID\',\r\n    pubsname AS \'Badge Name\',\r\n    firstname AS \'First Name\',\r\n    lastname AS \'Last Name\',\r\n    concat((SUM(TIME_TO_SEC(duration))) DIV 3600, \".\", (((SUM(TIME_TO_SEC(duration)) DIV 60) % 60) * 100) DIV 60) AS \'Hours Worked\',\r\n    concat(\'<A HREF=mailto:\',email,\'>\',email,\'</A>\') AS Email\r\n  FROM \r\n      Sessions\r\n    JOIN Schedule USING (sessionid)\r\n    LEFT JOIN ParticipantOnSession USING (sessionid)\r\n    LEFT JOIN CongoDump USING (badgeid)\r\n    LEFT JOIN Participants USING (badgeid)\r\n  WHERE\r\n    volunteer=0 and\r\n    introducer=0 and\r\n    aidedecamp=0 and \r\n    typeid=1\r\n  GROUP BY\r\n    pubsname\r\n  ORDER BY\r\n    pubsname,\r\n    starttime'),(106,'sumtimecardtabledump','Sum of Time Card Table Dump','<P>Reports Badge ID, First, Last and badge Name, Clocked in time, Clocked out time, hours worked per entry and email address.</P>','<P>Note: This is only for hours worked as: Point Person, Introducer, Programming Volunteer, On-site Logistic and Green Room Staffing.</P>\r\n<P>See Also <A HREF=genreport.php?reportid=103>Time Card Table Dump</P>','SELECT\r\n    badgeid AS \'Badge ID\',\r\n    badgename AS \'Badge Name\',\r\n    firstname AS \'First Name\',\r\n    lastname as \'Last Name\',\r\n    concat((SUM(TIME_TO_SEC(SUBTIME(voltimeout, voltimein))) DIV 3600), \".\", ((((SUM(TIME_TO_SEC(SUBTIME(voltimeout, voltimein))) DIV 60) % 60) * 100) DIV 60)) AS \'Hours Worked\',\r\n    concat(\"<A HREF=mailto:\",email,\">\",email,\"</A>\") as Email\r\n  FROM\r\n       TimeCard\r\n     JOIN CongoDump USING (badgeid)\r\n  GROUP BY\r\n    badgeid\r\n  ORDER BY\r\n    badgename,\r\n    voltimein'),(107,'sumvolandtimecard','Sum of Panelist and Timecard time','<P>Sum of all counted volunteer time (Pre-Con, Panelist, and At-Con) for transmission to whomever desires it.</P>','<P>See also <A HREF=genreport.php?reportid=106>At-Con Timecard</A>, <A HREF=genreport.php?reportid=105>Panel time</A>, and <A HREF=genreport.php?reportid=109>Pre-Con Timecards</A>.</P>','SELECT\r\n    badgename AS \'Badge Name\',\r\n    realname AS \'Real Name\',\r\n    email AS Email,\r\n    SUM(hoursworked) AS \'Hours Worked\'\r\n  FROM\r\n      ((SELECT\r\n          badgeid,\r\n          badgename,\r\n          concat(firstname,\" \",lastname) AS realname,\r\n          concat(\"<A HREF=mailto:\",email,\">\",email,\"</A>\") AS email,\r\n          concat((SUM(TIME_TO_SEC(SUBTIME(voltimeout, voltimein))) DIV 3600), \".\", ((((SUM(TIME_TO_SEC(SUBTIME(voltimeout, voltimein))) DIV 60) % 60) * 100) DIV 60)) AS hoursworked\r\n        FROM\r\n            TimeCard\r\n          JOIN CongoDump USING (badgeid)\r\n        GROUP BY\r\n          badgename)\r\n      UNION ALL\r\n      (SELECT\r\n          badgeid,\r\n          badgename,\r\n          concat(firstname,\" \",lastname) AS realname,\r\n          concat(\"<A HREF=mailto:\",email,\">\",email,\"</A>\") AS email,\r\n          concat((SUM(TIME_TO_SEC(duration)) DIV 3600), \".\", ((((SUM(TIME_TO_SEC(duration)) DIV 60) % 60) * 100) DIV 60)) AS hoursworked\r\n        FROM\r\n            Sessions\r\n          JOIN Schedule USING (sessionid)\r\n          LEFT JOIN ParticipantOnSession USING (sessionid)\r\n          LEFT JOIN CongoDump USING (badgeid)\r\n          LEFT JOIN Participants USING (badgeid)\r\n        WHERE\r\n          volunteer=0 AND\r\n          introducer=0 AND\r\n          aidedecamp=0 AND\r\n          typeid=1\r\n        GROUP BY badgeid)\r\n      UNION ALL\r\n      (SELECT\r\n          badgeid,\r\n          badgename,\r\n          concat(firstname,\" \",lastname) AS realname,\r\n          concat(\"<A HREF=mailto:\",email,\">\",email,\"</A>\") AS email,\r\n          concat((SUM(TIME_TO_SEC(preconhourtime)) DIV 3600), \".\", ((((SUM(TIME_TO_SEC(preconhourtime)) DIV 60) % 60) * 100) DIV 60)) AS hoursworked\r\n        FROM\r\n            PreconHours\r\n          JOIN CongoDump USING (badgeid)\r\n        GROUP BY\r\n          badgename)) AS X\r\n  GROUP BY\r\n    badgeid\r\n  ORDER BY\r\n    badgename'),(108,'compilationvolandpaneltime','Compilation of the Volunteer and Panel Times','<P>Compiles the Volunteer Timecard dump and the Panel times dump</P>','<P>Compilation of <A HREF=genreport?reportid=103>At-Con Times</A>, <A HREF=genreport?reportid=104>Panels</A>, and <A HREF=genreport?reportid=109>Pre-Con Times</A>.</P>','SELECT\r\n    badgename AS \'Badge Name\',\r\n    realname AS \'Real Name\',\r\n    email AS Email,\r\n    timein AS \'Time In\',\r\n    timeout AS \'Time Out\',\r\n    hoursworked AS \'Hours Worked\'\r\n  FROM\r\n      ((SELECT\r\n          badgeid,\r\n          badgename,\r\n          concat(firstname,\" \",lastname) AS realname,\r\n          concat(\"<A HREF=mailto:\",email,\">\",email,\"</A>\") as email,\r\n          DATE_FORMAT(ADDTIME(\'$ConStartDatim\',voltimein),\'%a %l:%i %p\') AS timein,\r\n          DATE_FORMAT(ADDTIME(\'$ConStartDatim\',voltimeout),\'%a %l:%i %p\') AS timeout,\r\n           concat((TIME_TO_SEC(SUBTIME(voltimeout,voltimein)) DIV 3600),\r\n            \".\",\r\n            ((((TIME_TO_SEC(SUBTIME(voltimeout,voltimein)) DIV 60) % 60) * 100) DIV 60)) AS hoursworked\r\n        FROM\r\n             TimeCard\r\n           JOIN CongoDump USING (badgeid))\r\n     UNION ALL\r\n     (SELECT\r\n          badgeid,\r\n          badgename,\r\n          concat(firstname,\" \",lastname) AS realname,\r\n          concat(\'<A HREF=mailto:\',email,\'>\',email,\'</A>\') AS email,\r\n          DATE_FORMAT(ADDTIME(\'$ConStartDatim\',starttime),\'%a %l:%i %p\') AS timein, \r\n          DATE_FORMAT(ADDTIME(ADDTIME(\'$ConStartDatim\',starttime),duration),\'%a %l:%i %p\') AS timeout, \r\n           concat((TIME_TO_SEC(duration) DIV 3600),\r\n            \".\",\r\n            ((((TIME_TO_SEC(duration) DIV 60) % 60) * 100) DIV 60)) AS hoursworked\r\n        FROM \r\n            Sessions\r\n          JOIN Schedule USING (sessionid)\r\n          LEFT JOIN ParticipantOnSession USING (sessionid)\r\n          LEFT JOIN CongoDump USING (badgeid)\r\n          LEFT JOIN Participants USING (badgeid)\r\n        WHERE\r\n          volunteer=0 and\r\n          introducer=0 and\r\n          aidedecamp=0 and \r\n          typeid=1)\r\n      UNION ALL\r\n      (SELECT\r\n          badgeid,\r\n          badgename,\r\n          concat(firstname,\" \",lastname) AS realname,\r\n          concat(\"<A HREF=mailto:\",email,\">\",email,\"</A>\") AS email,\r\n          \"- Precon\" AS timein,\r\n          \"hours\" AS timeout,\r\n          concat((TIME_TO_SEC(preconhourtime) DIV 3600),\r\n            \".\",\r\n            ((((TIME_TO_SEC(preconhourtime) DIV 60) % 60) * 100) DIV 60)) AS hoursworked\r\n        FROM\r\n            PreconHours\r\n          JOIN CongoDump USING (badgeid))) AS X\r\n  ORDER BY\r\n    badgename,\r\n    timein'),(109,'pecontimecard','Pre-Con Time Card','<P>First Hack at recording the Pre-Con hours, fixed in later versions of the software.</P>','','SELECT\r\n    badgeid AS \'Badge ID\',\r\n    badgename AS \'Badge Name\',\r\n    firstname AS \'First Name\',\r\n    lastname AS \'Last Name\',\r\n    concat((SUM(TIME_TO_SEC(preconhourtime)) DIV 3600), \".\", ((((SUM(TIME_TO_SEC(preconhourtime)) DIV 60) % 60) * 100) DIV 60)) AS \'Hours Worked\',\r\n    concat(\"<A HREF=mailto:\",email,\">\",email,\"</A>\") AS Email\r\n  FROM\r\n      PreconHours PH\r\n    JOIN CongoDump CD USING (badgeid)\r\n  GROUP BY\r\n    badgename'),(110,'sumvolandtimecardbyhours','Sum of Panelist and Timecard time (by hours)','<P>Sum of all counted volunteer time (Pre-Con, Panelist, and At-Con) for transmission to whomever desires it. Sorted by hours worked</P>','<P>See also <A HREF=genreport.php?reportid=106>At-Con Timecard</A>, <A HREF=genreport.php?reportid=105>Panel time</A>, and <A HREF=genreport.php?reportid=109>Pre-Con Timecards</A>.</P>','SELECT\r\n    badgename AS \'Badge Name\',\r\n    realname AS \'Real Name\',\r\n    email AS Email,\r\n    SUM(hoursworked) AS \'Hours Worked\'\r\n  FROM\r\n      ((SELECT\r\n          badgeid,\r\n          badgename,\r\n          concat(firstname,\" \",lastname) AS realname,\r\n          concat(\"<A HREF=mailto:\",email,\">\",email,\"</A>\") AS email,\r\n          concat((SUM(TIME_TO_SEC(SUBTIME(voltimeout, voltimein))) DIV 3600), \".\", ((((SUM(TIME_TO_SEC(SUBTIME(voltimeout, voltimein))) DIV 60) % 60) * 100) DIV 60)) AS hoursworked\r\n        FROM\r\n            TimeCard\r\n          JOIN CongoDump USING (badgeid)\r\n        GROUP BY\r\n          badgename)\r\n      UNION ALL\r\n      (SELECT\r\n          badgeid,\r\n          badgename,\r\n          concat(firstname,\" \",lastname) AS realname,\r\n          concat(\"<A HREF=mailto:\",email,\">\",email,\"</A>\") AS email,\r\n          concat((SUM(TIME_TO_SEC(duration)) DIV 3600), \".\", ((((SUM(TIME_TO_SEC(duration)) DIV 60) % 60) * 100) DIV 60)) AS hoursworked\r\n        FROM\r\n            Sessions\r\n          JOIN Schedule USING (sessionid)\r\n          LEFT JOIN ParticipantOnSession USING (sessionid)\r\n          LEFT JOIN CongoDump USING (badgeid)\r\n          LEFT JOIN Participants USING (badgeid)\r\n        WHERE\r\n          volunteer=0 AND\r\n          introducer=0 AND\r\n          aidedecamp=0 AND\r\n          typeid=1\r\n        GROUP BY badgeid)\r\n      UNION ALL\r\n      (SELECT\r\n          badgeid,\r\n          badgename,\r\n          concat(firstname,\" \",lastname) AS realname,\r\n          concat(\"<A HREF=mailto:\",email,\">\",email,\"</A>\") AS email,\r\n          concat((SUM(TIME_TO_SEC(preconhourtime)) DIV 3600), \".\", ((((SUM(TIME_TO_SEC(preconhourtime)) DIV 60) % 60) * 100) DIV 60)) AS hoursworked\r\n        FROM\r\n            PreconHours\r\n          JOIN CongoDump USING (badgeid)\r\n        GROUP BY\r\n          badgename)) AS X\r\n  GROUP BY\r\n    badgeid\r\n  ORDER BY\r\n    4 DESC'),(111,'collectedsessioncommentary','Collected Session Commentary','<P>Commentary on each session, with image.</P>','<P>The questions were:\r\n<OL>\r\n  <LI>This class/panel matched the description\r\n  <LI>The class/panel was fun AND educational\r\n  <LI>I\'d recommend the class/panel to a friend\r\n  <LI>This class/panel has inspired me to try something new\r\n  <LI>The presenter(s) really knew their stuff\r\n  <LI>My interests were represented in the programming\r\n  <LI>Bring this presenter back next year\r\n</OL>\r\n</P>','SELECT\r\n    concat(\"<A HREF=\\\"StaffDescriptions.php#\",sessionid,\"\\\">\",title,\"</A>\", if(estatten,concat(\" (\",estatten,\")\"),\'\')) AS \'Class Title\',\r\n    concat(\'<img src=\\\"ChartFeedback.php?sessionid=\',sessionid,\'\">\') AS Graph,\r\n    GROUP_CONCAT(comment SEPARATOR \"<br>\") AS Feedback\r\n  FROM\r\n      Sessions\r\n    JOIN CommentsOnSessions USING (sessionid)\r\n  GROUP BY\r\n    sessionid\r\n  ORDER BY\r\n    title'),(112,'surveysentered','Surveys Entered','<P>Simple count of the number of Feedback Surveys entered,</P>','','SELECT\r\n    count(case when questionid=1 then 1 else null end) as q1,\r\n    count(case when questionid=2 then 1 else null end) as q2,\r\n    count(case when questionid=3 then 1 else null end) as q3,\r\n    count(case when questionid=4 then 1 else null end) as q4,\r\n    count(case when questionid=5 then 1 else null end) as q5,\r\n    count(case when questionid=6 then 1 else null end) as q6,\r\n    count(case when questionid=7 then 1 else null end) as q7\r\n  FROM\r\n      Feedback'),(113,'countofestattendeesinroom','Count of Attendees in each room/time','<P>The title, start time, room name, and estimated attendees.</P>','','SELECT\r\n    Title,\r\n    DATE_FORMAT(ADDTIME(\"$ConStartDatim\",starttime), \"%a %l:%i %p\") AS \"Time\",\r\n    roomname as Room,\r\n    estatten AS Attendance\r\n  FROM\r\n      Sessions\r\n      JOIN Schedule USING (sessionid)\r\n      JOIN Rooms USING (roomid)\r\n  WHERE\r\n    typeid=1 OR\r\n    typeid=2\r\n  ORDER BY\r\n    starttime'),(114,'countofestattendeesbytime','Attendee Count by time','<P>Sum of attendees for a particular time.</P>','','SELECT\r\n    DATE_FORMAT(ADDTIME(\"$ConStartDatim\",starttime), \"%a %l:%i %p\") AS \"Time\",\r\n    SUM(estatten) AS Attendees\r\n  FROM\r\n      Sessions\r\n    JOIN Schedule USING (sessionid)\r\n  GROUP BY\r\n    starttime\r\n HAVING\r\n    SUM(estatten) > 0\r\n ORDER BY\r\n   starttime');
/*!40000 ALTER TABLE `Reports` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2011-07-24 21:39:40

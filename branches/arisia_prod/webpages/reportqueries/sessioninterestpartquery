TITLE='Session Interest by participant (all info)'
DESCRIPTION='Shows who has expressed interest in each session, how they ranked it, what they said, if they will moderate... Large Report.  (All data included including for invited sessions.) order by participant'
PROGWANTS=1
QUERY="
    select 
           P.badgeid BadgeID, 
           P.pubsname, 
           T.trackname Track, 
           concat('<a href=StaffAssignParticipants.php?selsess=',S.sessionid,'>', S.sessionid,'</a>') Sessionid,
           concat('<a href=EditSession.php?id=',S.sessionid,'>',S.title,'</a>') Title,
           DATE_FORMAT(ADDTIME('2011-01-14 00:00:00',SCH.starttime),'%a %l:%i %p') as 'Start Time',
           concat(if(left(duration,2)=00, '', if(left(duration,1)=0,
             concat(right(left(duration,2),1),'hr '), concat(left(duration,2),'hr '))),
             if(date_format(duration,'%i')=00, '', if(left(date_format(duration,'%i'),1)=0,
             concat(right(date_format(duration,'%i'),1),'min'),
             concat(date_format(duration,'%i'),'min')))) duration,
           I.rank Rank, 
           I.comments Comments 
      from Participants as P, 
           ParticipantSessionInterest as I, 
           Tracks as T,
           Sessions as S
           left join Schedule SCH 
                  on S.sessionid=SCH.sessionid 
     where P.badgeid=I.badgeid 
       and S.sessionid=I.sessionid 
       and T.trackid=S.trackid 
  order by cast(P.badgeid as unsigned) ;"

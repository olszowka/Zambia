TITLE='Gaming Schedule by time then room'
DESCRIPTION='Just things in track gaming (gaming and gaming panels)'
GAMINGWANTS=1
PROGWANTS=1
QUERY="
select
        roomname,
        function,
        DATE_FORMAT(ADDTIME('2009-01-16 00:00:00',starttime),'%a %l:%i %p') as 'Start Time',
        duration,
        trackname,
        S.sessionid,
        title,
        group_concat(' ', pubsname,' (',P.badgeid,')') as 'Participants'
    from
             Schedule SCH
        JOIN Sessions S
             USING (sessionid)
        JOIN Rooms R
             USING (roomid)
        JOIN Tracks
             USING (trackid)
   LEFT JOIN ParticipantOnSession POS
             ON SCH.sessionid=POS.sessionid
   LEFT JOIN Participants P
          ON POS.badgeid=P.badgeid
    where trackname in ('Gaming')
    group by SCH.scheduleid
    order by SCH.starttime, R.roomname;"
